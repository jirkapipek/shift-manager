{"version":3,"sources":["webpack:///./src/views/ChangePassword.vue?4647","webpack:///src/views/ChangePassword.vue","webpack:///./src/views/ChangePassword.vue?7709","webpack:///./src/views/ChangePassword.vue","webpack:///./src/views/ShiftsEmployee.vue?8002","webpack:///src/views/ShiftsEmployee.vue","webpack:///./src/views/ShiftsEmployee.vue?d371","webpack:///./src/views/ShiftsEmployee.vue","webpack:///./src/views/ShiftRequestsMng.vue?cd02","webpack:///src/views/ShiftRequestsMng.vue","webpack:///./src/views/ShiftRequestsMng.vue?316e","webpack:///./src/views/ShiftRequestsMng.vue","webpack:///./src/views/ShiftRequestsEmployee.vue?5b67","webpack:///src/views/ShiftRequestsEmployee.vue","webpack:///./src/views/ShiftRequestsEmployee.vue?2c41","webpack:///./src/views/ShiftRequestsEmployee.vue","webpack:///./src/views/Positions.vue?5117","webpack:///src/views/Positions.vue","webpack:///./src/views/Positions.vue?f90d","webpack:///./src/views/Positions.vue","webpack:///./src/views/Register.vue?8a7b","webpack:///src/views/Register.vue","webpack:///./src/views/Register.vue?382a","webpack:///./src/views/Register.vue","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/views/NotFound.vue?4f89","webpack:///./src/views/NotFound.vue","webpack:///./src/views/Login.vue?8a2c","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue","webpack:///./src/views/WorkingTimes.vue?716c","webpack:///src/views/WorkingTimes.vue","webpack:///./src/views/WorkingTimes.vue?9c79","webpack:///./src/views/WorkingTimes.vue","webpack:///./src/views/Profile.vue?e852","webpack:///src/views/Profile.vue","webpack:///./src/views/Profile.vue?3600","webpack:///./src/views/Profile.vue","webpack:///./src/views/Employees.vue?d4cb","webpack:///src/views/Employees.vue","webpack:///./src/views/Employees.vue?d806","webpack:///./src/views/Employees.vue","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/core-js/modules/es.array.slice.js","webpack:///./src/views/ShiftsMng.vue?90fc","webpack:///src/views/ShiftsMng.vue","webpack:///./src/views/ShiftsMng.vue?4557","webpack:///./src/views/ShiftsMng.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","error","_e","staticClass","on","$event","preventDefault","changeUserPin","model","value","callback","$$v","password","expression","repeatPassword","newpassword","staticRenderFns","data","methods","passwordData","changePin","component","edit","editWeek","showBtn","showNextShift","allShifts","previousDay","nextDay","add","keyword","staticStyle","time","ref","items","fields","sortBy","sortDesc","isBusy","scopedSlots","_u","key","fn","proxy","item","length","editTime","Date","setHours","requests","id","date","timeFrom","timeTo","message","created","loadConfirmed","n","res","filterDate","setDate","getDate","back","getWorkedHours","i","computed","filterList","showNextWeek","$bvToast","show","getTime","min","max","updateAll","editRequest","remove","minDate","maxDate","getDay","loadRequests","updatedRequest","time_from","substring","time_to","request","_id","confirmRequests","push","addRequest","maxEditDate","newRequest","isAdmin","addNewPosition","positions","row","toggleDetails","detailsShowing","_l","employee","name","lastname","email","editPosition","defaultSalary","description","loadPositions","newPosition","default_salary","updatedPosition","position","registerUser","roles","role","workingTimes","workingTime","setSelects","register","user","$","$find","find","addToUnscopables","arrayMethodUsesToLength","FIND","SKIPS_HOLES","USES_TO_LENGTH","Array","target","proto","forced","callbackfn","arguments","undefined","script","$route","query","msg","msgErr","loginUser","login","addNewWorkingTime","editWorkingTime","hours","holidayHours","loadWorkingTimes","newWokingTime","holiday_hours","updatedWorkingTime","_m","users","position_specs","editUser","resetPassword","setProperties","loadUsers","firstname","positionId","DESCRIPTORS","global","has","isObject","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","prototype","EmptyStringDescriptionStore","SymbolWrapper","String","result","symbolPrototype","constructor","symbolToString","toString","native","regexp","configurable","get","symbol","valueOf","string","call","desc","slice","replace","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","ACCESSORS","0","1","SPECIES","nativeSlice","Math","start","end","Constructor","O","k","fin","showToday"],"mappings":"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","file":"js/about.a7bb9e64.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"changePinForm\"}},[_c('h2',{attrs:{\"align\":\"center\"}},[_vm._v(\"Change password\")]),(_vm.error)?_c('b-alert',{attrs:{\"show\":\"\",\"dismissible\":\"\",\"fade\":\"\",\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_c('b-form',{staticClass:\"justify-content-center\",on:{\"submit\":function($event){$event.preventDefault();return _vm.changeUserPin($event)}}},[_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"type\":\"password\",\"placeholder\":\"Actual password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"type\":\"password\",\"placeholder\":\"Repeat password\"},model:{value:(_vm.repeatPassword),callback:function ($$v) {_vm.repeatPassword=$$v},expression:\"repeatPassword\"}}),(_vm.password !== _vm.repeatPassword)?_c('b-alert',{attrs:{\"show\":\"\",\"dismissible\":\"\",\"fade\":\"\",\"variant\":\"danger\"}},[_vm._v(\"Different passwords\")]):_vm._e(),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"type\":\"password\",\"placeholder\":\"New password\"},model:{value:(_vm.newpassword),callback:function ($$v) {_vm.newpassword=$$v},expression:\"newpassword\"}}),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\",\"type\":\"submit\"}},[_vm._v(\"Change\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"changePinForm\">\n    <h2 align=\"center\">Change password</h2>\n\n    <!-- Error alert -->\n    <b-alert show dismissible fade variant=\"danger\" v-if=\"error\">{{\n      error\n    }}</b-alert>\n\n    <!-- Form for change pin -->\n    <b-form class=\"justify-content-center\" @submit.prevent=\"changeUserPin\">\n      <b-input\n        type=\"password\"\n        class=\"mb-2 mr-sm-2 mb-sm-2\"\n        v-model=\"password\"\n        placeholder=\"Actual password\"\n      ></b-input>\n      <b-input\n        type=\"password\"\n        class=\"mb-2 mr-sm-2 mb-sm-2\"\n        v-model=\"repeatPassword\"\n        placeholder=\"Repeat password\"\n      ></b-input>\n\n      <!-- Password alert -->\n      <b-alert\n        show\n        dismissible\n        fade\n        variant=\"danger\"\n        v-if=\"password !== repeatPassword\"\n        >Different passwords</b-alert\n      >\n      <b-input\n        type=\"password\"\n        class=\"mb-2 mr-sm-2 mb-sm-2\"\n        v-model=\"newpassword\"\n        placeholder=\"New password\"\n      ></b-input>\n\n      <b-button block variant=\"dark\" type=\"submit\">Change</b-button>\n    </b-form>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      password: \"\",\n      repeatPassword: \"\",\n      newpassword: \"\",\n      error: \"\",\n    };\n  },\n  methods: {\n    //load methods from VUEX store\n    ...mapActions([\"changePin\"]),\n    ...mapActions([\"logout\"]),\n\n    //function for change password\n    changeUserPin() {\n      var passwordData = {\n        password: this.password,\n        newpassword: this.newpassword,\n      };\n      this.changePin(passwordData)\n        .then(() => {\n          this.logout( \"Your password has been changed, plese log in!\")\n        })\n\n        .catch((error) => {\n          this.error = error.response.data.msg;\n        });\n    },\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangePassword.vue?vue&type=template&id=eea30be8&\"\nimport script from \"./ChangePassword.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangePassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"mngshifts\"}},[(_vm.edit !== true && !_vm.editWeek && _vm.showBtn)?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2 mngbtn\",attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.showNextShift()}}},[_vm._v(\"Show next shift\")]):_vm._e(),(_vm.edit !== true && _vm.editWeek)?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2 mngbtn\",attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.allShifts()}}},[_vm._v(\"Show all shifts\")]):_vm._e(),_c('br'),(_vm.edit !== true && _vm.editWeek)?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2 mngbtn\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.previousDay()}}},[_vm._v(\"Previous day\")]):_vm._e(),(_vm.edit !== true && _vm.editWeek)?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2 mngbtn\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.nextDay()}}},[_vm._v(\"Next day\")]):_vm._e(),(_vm.edit !== true && _vm.add !== true)?_c('b-input-group',[_c('b-form-datepicker',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"id\":\"filter-input\",\"locale\":\"en\",\"placeholder\":\"Choose a date for filter shifts\"},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}}),_c('b-input-group-append',[_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"disabled\":!_vm.keyword},on:{\"click\":function($event){_vm.keyword = '';\n          _vm.editWeek = '';}}},[_vm._v(\"Clear\")])],1)],1):_vm._e(),_c('b-card',{staticStyle:{\"text-align\":\"center\",\"margin-bottom\":\"1%\"},attrs:{\"bg-variant\":\"dark\",\"text-variant\":\"white\",\"title\":\"Monthly time worked\"}},[_c('b-card-text',[_vm._v(\" You have worked this month \"+_vm._s(_vm.time)+\". \")])],1),_c('div',{staticClass:\"resp-table\"},[(_vm.edit !== true && _vm.add !== true)?_c('b-table',{ref:\"table\",attrs:{\"items\":_vm.items,\"fields\":_vm.fields,\"filter\":_vm.keyword,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"busy\":_vm.isBusy,\"head-variant\":\"dark\",\"responsive\":\"\"},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event}},scopedSlots:_vm._u([{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center text-dark my-2\"},[_c('b-spinner',{staticClass:\"align-middle\",attrs:{\"variant\":\"dark\"}}),_c('strong',[_vm._v(\"Loading...\")])],1)]},proxy:true},{key:\"cell(length)\",fn:function(data){return [_c('b',[_vm._v(_vm._s(data.item.length))])]}}],null,false,4205104911)}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"mngshifts\">\n    <!--Button for edit shift requests-->\n    <b-button\n      variant=\"warning\"\n      v-if=\"edit !== true && !editWeek && showBtn\"\n      class=\"mb-2 mr-sm-2 mb-sm-2 mngbtn\"\n      @click=\"showNextShift()\"\n      >Show next shift</b-button\n    >\n    <!--Back to all requests-->\n    <b-button\n      variant=\"warning\"\n      v-if=\"edit !== true && editWeek\"\n      class=\"mb-2 mr-sm-2 mb-sm-2 mngbtn\"\n      @click=\"allShifts()\"\n      >Show all shifts</b-button\n    >\n    <br />\n    <!--Previous day button-->\n    <b-button\n      variant=\"primary\"\n      class=\"mb-2 mr-sm-2 mb-sm-2 mngbtn\"\n      v-if=\"edit !== true && editWeek\"\n      @click=\"previousDay()\"\n      >Previous day</b-button\n    >\n    <!--Next day button-->\n    <b-button\n      variant=\"primary\"\n      v-if=\"edit !== true && editWeek\"\n      class=\"mb-2 mr-sm-2 mb-sm-2 mngbtn\"\n      @click=\"nextDay()\"\n      >Next day</b-button\n    >\n\n    <!-- Search ipnut for filtering data from table - date picker-->\n    <b-input-group v-if=\"edit !== true && add !== true\">\n      <b-form-datepicker\n        class=\"mb-2 mr-sm-2 mb-sm-2\"\n        id=\"filter-input\"\n        v-model=\"keyword\"\n        locale=\"en\"\n        placeholder=\"Choose a date for filter shifts\"\n      ></b-form-datepicker>\n      <b-input-group-append>\n        <b-button\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          :disabled=\"!keyword\"\n          @click=\"\n            keyword = '';\n            editWeek = '';\n          \"\n          >Clear</b-button\n        >\n      </b-input-group-append>\n    </b-input-group>\n    <b-card\n      bg-variant=\"dark\"\n      text-variant=\"white\"\n      style=\"text-align: center; margin-bottom: 1%\"\n      title=\"Monthly time worked\"\n    >\n      <b-card-text> You have worked this month {{ time }}. </b-card-text>\n    </b-card>\n    <div class=\"resp-table\">\n      <!-- Table -->\n      <b-table\n        :items=\"items\"\n        :fields=\"fields\"\n        :filter=\"keyword\"\n        :sort-by.sync=\"sortBy\"\n        :sort-desc.sync=\"sortDesc\"\n        :busy=\"isBusy\"\n        head-variant=\"dark\"\n        responsive\n        v-if=\"edit !== true && add !== true\"\n        ref=\"table\"\n      >\n        <!-- Loading spinner, if app getting data from backend -->\n        <template #table-busy>\n          <div class=\"text-center text-dark my-2\">\n            <b-spinner variant=\"dark\" class=\"align-middle\"></b-spinner>\n            <strong>Loading...</strong>\n          </div>\n        </template>\n        <template v-slot:cell(length)=\"data\">\n          <b>{{ data.item.length }}</b>\n        </template>\n      </b-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    var editTime = new Date();\n    editTime.setHours(1, 0, 0, 0);\n    return {\n      isBusy: false,\n      editWeek: false,\n      showBtn: false,\n      requests: [],\n      keyword: null,\n      edit: false,\n      add: false,\n      sortBy: \"date\",\n      sortDesc: true,\n      id: \"\",\n      date: \"\",\n      time: 0,\n      editTime: editTime,\n      timeFrom: \"\",\n      timeTo: \"\",\n      message: \"\",\n      error: \"\",\n      fields: [\n        { key: \"date\", label: \"Date (YYYY-MM-DD)\", sortable: true },\n        { key: \"shift_time\", label: \"Shift\", sortable: true },\n        { key: \"length\", label: \"Shift length\", sortable: true },\n        { key: \"completed\", label: \"Completed\", sortable: true },\n      ],\n      items: [],\n    };\n  },\n\n  created() {\n    //Load employee requests, if page is rendering\n    this.loadConfirmed();\n  },\n\n  methods: {\n    //Function for load data from server to table\n    async loadConfirmed() {\n      this.isBusy = true;\n      this.requests = await axios.get(\n        process.env.VUE_APP_MAIN_PATH + \"/api/shifts/myshifts\"\n      );\n      for (var i = 0; i < this.requests.data.length; i++) {\n        let item = {\n          _id: this.requests.data[i]._id,\n          date: this.requests.data[i].date,\n          shift_time:\n            this.requests.data[i].time_from +\n            \" - \" +\n            this.requests.data[i].time_to,\n          length: this.requests.data[i].length,\n          completed:\n            this.editTime.getTime() >\n            new Date(this.requests.data[i].date).getTime()\n              ? \"Completed!\"\n              : this.editTime.getTime() ==\n                new Date(this.requests.data[i].date).getTime()\n              ? \"Today shift!\"\n              : \"Next shift!\",\n        };\n        this.items.push(item);\n      }\n      this.getWorkedHours();\n      this.showBtn = this.items.find(\n        ({ completed }) => completed === \"Next shift!\"\n      )\n        ? true\n        : false;\n      this.isBusy = false;\n    },\n\n    //This function show next shift\n    showNextShift() {\n      this.editWeek = true;\n      var n = -1;\n      var res = null;\n      while (\n        ++n < this.items.length &&\n        new Date(this.items[n].date) < new Date()\n      );\n      res =\n        this.items[n].date ||\n        new Date().getFullYear() +\n          \"-\" +\n          (\"0\" + (new Date().getMonth() + 1)).slice(-2) +\n          \"-\" +\n          (\"0\" + new Date().getDate()).slice(-2);\n      this.keyword = res;\n    },\n\n    //Function for get next day\n    nextDay() {\n      var filterDate = new Date(this.keyword);\n      filterDate.setDate(filterDate.getDate() + 1);\n      this.keyword =\n        filterDate.getFullYear() +\n        \"-\" +\n        (\"0\" + (filterDate.getMonth() + 1)).slice(-2) +\n        \"-\" +\n        (\"0\" + filterDate.getDate()).slice(-2);\n    },\n\n    //Function for get previous day\n    previousDay() {\n      var filterDate = new Date(this.keyword);\n      filterDate.setDate(filterDate.getDate() - 1);\n      this.keyword =\n        filterDate.getFullYear() +\n        \"-\" +\n        (\"0\" + (filterDate.getMonth() + 1)).slice(-2) +\n        \"-\" +\n        (\"0\" + filterDate.getDate()).slice(-2);\n    },\n\n    //for \"Show all shifts\" button, show all requests\n    allShifts() {\n      this.keyword = \"\";\n      this.editWeek = false;\n    },\n\n    //This is function for back button in edit and add form\n    back() {\n      this.edit = false;\n      this.add = false;\n      this.timeFrom = \"\";\n      this.timeTo = \"\";\n      this.date = \"\";\n      this.error = \"\";\n    },\n\n    //This is function for getting users worked hours\n    getWorkedHours() {\n      for (var i = 0; i < this.items.length; i++) {\n        if (\n          this.items[i].completed == \"Completed!\" &&\n          new Date(this.items[i].date).getMonth() == new Date().getMonth()\n        ) {\n          this.time +=\n            this.items[i].length.substring(0, 2) * 60 +\n            this.items[i].length.substring(3, 5) * 1;\n        }\n      }\n      this.time = this.time / 60 + \" hours\";\n    },\n  },\n\n  computed: {\n    ...mapGetters([\"isAdmin\"]),\n    ...mapGetters([\"isManager\"]),\n\n    //Function for filtering data from table on name, hours and holiday hours\n    filterList() {\n      return this.keyword\n        ? this.requests.filter((item) => item.date.includes(this.keyword))\n        : this.requests;\n    },\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShiftsEmployee.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShiftsEmployee.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShiftsEmployee.vue?vue&type=template&id=470b0446&\"\nimport script from \"./ShiftsEmployee.vue?vue&type=script&lang=js&\"\nexport * from \"./ShiftsEmployee.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"mngrequests\"}},[(_vm.edit !== true && !_vm.editWeek)?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2 mngbtn\",attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.showNextWeek()}}},[_vm._v(\"Edit shifts for the next week\")]):_vm._e(),(_vm.edit !== true && _vm.editWeek)?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2 mngbtn\",attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.allShifts()}}},[_vm._v(\"Show all requests\")]):_vm._e(),(_vm.edit !== true)?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2 mngbtn\",attrs:{\"variant\":\"outline-dark\"},on:{\"click\":function($event){return _vm.$bvToast.show('help-toast')}}},[_vm._v(\"Help\")]):_vm._e(),_c('br'),(\n      _vm.edit !== true &&\n      _vm.editWeek &&\n      new Date(_vm.keyword).getTime() !== new Date(_vm.min).getTime()\n    )?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2 mngbtn\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.previousDay()}}},[_vm._v(\"Previous day\")]):_vm._e(),(\n      _vm.edit !== true &&\n      _vm.editWeek &&\n      new Date(_vm.keyword).getTime() !== new Date(_vm.max).getTime()\n    )?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2 mngbtn\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.nextDay()}}},[_vm._v(\"Next day\")]):_vm._e(),_c('b-toast',{staticStyle:{},attrs:{\"id\":\"help-toast\",\"title\":\"Shift helper\",\"static\":\"\",\"no-auto-hide\":\"\"}},[_c('p',[_vm._v(\" If you want confirm shifts for the next week, click button \"),_c('b',[_vm._v(\"Edit shift for the next week\")]),_vm._v(\". Shift requests are displayed for each day (\"),_c('b',[_vm._v(\"Next day\")]),_vm._v(\" and \"),_c('b',[_vm._v(\"Previus day\")]),_vm._v(\" buttons). W\\\\hen you edit shifts for a given day, you must save them using the button \"),_c('b',[_vm._v(\"Save the day\")])])]),(_vm.editWeek && _vm.edit !== true)?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2 float-right\",attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.updateAll()}}},[_vm._v(\"Save the day\")]):_vm._e(),_c('b-toast',{attrs:{\"id\":\"my-toast\",\"variant\":\"success\",\"solid\":\"\"},scopedSlots:_vm._u([{key:\"toast-title\",fn:function(){return [_c('div',{staticClass:\"d-flex flex-grow-1 align-items-baseline\"},[_c('b-img',{staticClass:\"mr-2\",attrs:{\"blank\":\"\",\"blank-color\":\"green\",\"width\":\"12\",\"height\":\"12\"}}),_c('strong',{staticClass:\"mr-auto\"},[_vm._v(\"Message!\")]),_c('small',{staticClass:\"text-muted mr-2\"},[_vm._v(\"now\")])],1)]},proxy:true}])},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]),(_vm.edit !== true && _vm.add !== true)?_c('b-input-group',[_c('b-form-datepicker',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"id\":\"filter-input\",\"min\":_vm.min,\"max\":_vm.max,\"locale\":\"en\",\"placeholder\":\"Choose a date for filter shifts\"},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}}),_c('b-input-group-append',[_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"disabled\":!_vm.keyword},on:{\"click\":function($event){_vm.keyword = '';\n          _vm.editWeek = '';}}},[_vm._v(\"Clear\")])],1)],1):_vm._e(),_c('div',{staticClass:\"resp-table\"},[(_vm.edit !== true && _vm.add !== true)?_c('b-table',{ref:\"table\",attrs:{\"items\":_vm.items,\"fields\":_vm.fields,\"filter\":_vm.keyword,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"busy\":_vm.isBusy,\"head-variant\":\"dark\",\"responsive\":\"\"},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event}},scopedSlots:_vm._u([{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center text-dark my-2\"},[_c('b-spinner',{staticClass:\"align-middle\",attrs:{\"variant\":\"dark\"}}),_c('strong',[_vm._v(\"Loading...\")])],1)]},proxy:true},{key:\"cell(action)\",fn:function(data){return [(_vm.editWeek)?_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\"},on:{\"click\":function($event){return _vm.editRequest(data.item)}}},[_vm._v(\"Edit\")]):_vm._e(),(_vm.editWeek)?_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.remove(data.item)}}},[_vm._v(\"Delete\")]):_vm._e()]}}],null,false,1402615265)}):_vm._e()],1),(_vm.edit == true)?_c('div',{staticClass:\"edit\"},[_c('h2',[_vm._v(\"Edit shift request\"),_c('br'),_vm._v(_vm._s(_vm.date))]),(_vm.error)?_c('b-alert',{attrs:{\"show\":\"\",\"dismissible\":\"\",\"fade\":\"\",\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_c('b-form',{staticClass:\"justify-content-center\",on:{\"submit\":function($event){$event.preventDefault();return _vm.editRequest()}}},[_c('b-form-timepicker',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"locale\":\"cs\",\"placeholder\":\"Choose time from:\"},model:{value:(_vm.timeFrom),callback:function ($$v) {_vm.timeFrom=$$v},expression:\"timeFrom\"}}),_c('b-form-timepicker',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"locale\":\"cs\",\"placeholder\":\"Choose time to:\",\"value\":\"23:50\"},model:{value:(_vm.timeTo),callback:function ($$v) {_vm.timeTo=$$v},expression:\"timeTo\"}}),(_vm.timeFrom > _vm.timeTo)?_c('b-alert',{attrs:{\"show\":\"\",\"dismissible\":\"\",\"fade\":\"\",\"variant\":\"danger\"}},[_vm._v(\"Your shift must start earlier than ends. (Start < End)\")]):_vm._e(),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"success\",\"type\":\"submit\"}},[_vm._v(\"Confirm\")]),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"outline-dark\"},on:{\"click\":function($event){return _vm.back()}}},[_vm._v(\"Back\")])],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"mngrequests\">\n    <!--Button for edit shift requests-->\n    <b-button\n      variant=\"warning\"\n      v-if=\"edit !== true && !editWeek\"\n      class=\"mb-2 mr-sm-2 mb-sm-2 mngbtn\"\n      @click=\"showNextWeek()\"\n      >Edit shifts for the next week</b-button\n    >\n\n    <!--Back to all requests-->\n    <b-button\n      variant=\"warning\"\n      v-if=\"edit !== true && editWeek\"\n      class=\"mb-2 mr-sm-2 mb-sm-2 mngbtn\"\n      @click=\"allShifts()\"\n      >Show all requests</b-button\n    >\n    <!--Help button for manager and admin-->\n    <b-button\n      variant=\"outline-dark\"\n      v-if=\"edit !== true\"\n      class=\"mb-2 mr-sm-2 mb-sm-2 mngbtn\"\n      @click=\"$bvToast.show('help-toast')\"\n      >Help</b-button\n    >\n    <br>\n    <!--Previous day button-->\n    <b-button\n      variant=\"primary\"\n      class=\"mb-2 mr-sm-2 mb-sm-2 mngbtn\"\n      v-if=\"\n        edit !== true &&\n        editWeek &&\n        new Date(keyword).getTime() !== new Date(min).getTime()\n      \"\n      @click=\"previousDay()\"\n      >Previous day</b-button\n    >\n    <!--Next day button-->\n    <b-button\n      variant=\"primary\"\n      v-if=\"\n        edit !== true &&\n        editWeek &&\n        new Date(keyword).getTime() !== new Date(max).getTime()\n      \"\n      class=\"mb-2 mr-sm-2 mb-sm-2 mngbtn\"\n      @click=\"nextDay()\"\n      >Next day</b-button\n    >\n    <!--Help toast info-->\n    <b-toast\n      id=\"help-toast\"\n      title=\"Shift helper\"\n      style=\"float-right\"\n      static\n      no-auto-hide\n    >\n      <p>\n        If you want confirm shifts for the next week, click button\n        <b>Edit shift for the next week</b>. Shift requests are displayed for\n        each day (<b>Next day</b> and <b>Previus day</b> buttons). W\\hen you\n        edit shifts for a given day, you must save them using the button\n        <b>Save the day</b>\n      </p>\n    </b-toast>\n  <!--Save the edited day button-->\n    <b-button\n      variant=\"success\"\n      class=\"mb-2 mr-sm-2 mb-sm-2 float-right\"\n      @click=\"updateAll()\"\n      v-if=\"editWeek && edit !== true\"\n      >Save the day</b-button\n    >\n    <!-- Toast with announcement -->\n    <b-toast id=\"my-toast\" variant=\"success\" solid>\n      <template #toast-title>\n        <div class=\"d-flex flex-grow-1 align-items-baseline\">\n          <b-img\n            blank\n            blank-color=\"green\"\n            class=\"mr-2\"\n            width=\"12\"\n            height=\"12\"\n          ></b-img>\n          <strong class=\"mr-auto\">Message!</strong>\n          <small class=\"text-muted mr-2\">now</small>\n        </div>\n      </template>\n      {{ message }}\n    </b-toast>\n\n    <!-- Search ipnut for filtering data from table - date picker-->\n    <b-input-group v-if=\"edit !== true && add !== true\">\n      <b-form-datepicker\n        class=\"mb-2 mr-sm-2 mb-sm-2\"\n        id=\"filter-input\"\n        v-model=\"keyword\"\n        :min=\"min\"\n        :max=\"max\"\n        locale=\"en\"\n        placeholder=\"Choose a date for filter shifts\"\n      ></b-form-datepicker>\n      <b-input-group-append>\n        <b-button\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          :disabled=\"!keyword\"\n          @click=\"\n            keyword = '';\n            editWeek = '';\n          \"\n          >Clear</b-button\n        >\n      </b-input-group-append>\n    </b-input-group>\n    <div class=\"resp-table\">\n      <!-- Table -->\n      <b-table\n        :items=\"items\"\n        :fields=\"fields\"\n        :filter=\"keyword\"\n        :sort-by.sync=\"sortBy\"\n        :sort-desc.sync=\"sortDesc\"\n        :busy=\"isBusy\"\n        head-variant=\"dark\"\n        responsive\n        v-if=\"edit !== true && add !== true\"\n        ref=\"table\"\n      >\n        <!-- Loading spinner, if app getting data from backend -->\n        <template #table-busy>\n          <div class=\"text-center text-dark my-2\">\n            <b-spinner variant=\"dark\" class=\"align-middle\"></b-spinner>\n            <strong>Loading...</strong>\n          </div>\n        </template>\n\n        <!-- Add custom cell for action buttons -->\n        <template v-slot:cell(action)=\"data\">\n          <b-button\n            v-if=\"editWeek\"\n            block\n            variant=\"dark\"\n            @click=\"editRequest(data.item)\"\n            >Edit</b-button\n          ><b-button\n            v-if=\"editWeek\"\n            block\n            variant=\"danger\"\n            @click=\"remove(data.item)\"\n            >Delete</b-button\n          >\n        </template>\n      </b-table>\n    </div>\n\n    <!-- Edit form for requests -->\n    <div class=\"edit\" v-if=\"edit == true\">\n      <h2>Edit shift request<br />{{ date }}</h2>\n\n      <!-- Error alert -->\n      <b-alert show dismissible fade variant=\"danger\" v-if=\"error\">{{\n        error\n      }}</b-alert>\n      <b-form class=\"justify-content-center\" @submit.prevent=\"editRequest()\">\n        <b-form-timepicker\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          v-model=\"timeFrom\"\n          locale=\"cs\"\n          placeholder=\"Choose time from:\"\n        ></b-form-timepicker>\n        <b-form-timepicker\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          v-model=\"timeTo\"\n          locale=\"cs\"\n          placeholder=\"Choose time to:\"\n          value=\"23:50\"\n        ></b-form-timepicker>\n\n        <!-- Real time error alert - checking right time -->\n        <b-alert show dismissible fade variant=\"danger\" v-if=\"timeFrom > timeTo\"\n          >Your shift must start earlier than ends. (Start &lt; End)</b-alert\n        >\n        <b-button block variant=\"success\" type=\"submit\">Confirm</b-button>\n        <b-button block variant=\"outline-dark\" @click=\"back()\">Back</b-button>\n      </b-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    //get actual date\n    var minDate = new Date();\n    var maxDate = new Date();\n    //set minDate and maxDax in calendar for edit requests\n    minDate.setDate(minDate.getDate() + (7 - minDate.getDay()) + 1);\n    maxDate.setDate(maxDate.getDate() + (7 - maxDate.getDay()) + 7);\n    return {\n      isBusy: false,\n      editWeek: false,\n      requests: [],\n      keyword: null,\n      edit: false,\n      add: false,\n      sortBy: \"date\",\n      sortDesc: false,\n      id: \"\",\n      date: \"\",\n      timeFrom: \"\",\n      timeTo: \"\",\n      min:\n        minDate.getFullYear() +\n        \"-\" +\n        (\"0\" + (minDate.getMonth() + 1)).slice(-2) +\n        \"-\" +\n        (\"0\" + minDate.getDate()).slice(-2),\n      max:\n        maxDate.getFullYear() +\n        \"-\" +\n        (\"0\" + (maxDate.getMonth() + 1)).slice(-2) +\n        \"-\" +\n        (\"0\" + maxDate.getDate()).slice(-2),\n      message: \"\",\n      error: \"\",\n      fields: [\n        { key: \"fullname\", label: \"Full Name\", sortable: true },\n        { key: \"position\", label: \"Employee position\", sortable: true },\n        { key: \"date\", label: \"Date (YYYY-MM-DD)\", sortable: true },\n        { key: \"time_from\", label: \"Start shift (HH:mm)\", sortable: true },\n        { key: \"time_to\", label: \"End shift (HH:mm)\", sortable: true },\n      ],\n      items: [],\n    };\n  },\n\n  created() {\n    //Load employee requests, if page is rendering\n    this.loadRequests();\n  },\n\n  methods: {\n    editRequest(request) {\n      //This condition set data from table to edit form, if edit == false\n      if (!this.edit) {\n        this.edit = true;\n        this.date = request.date;\n        this.id = request._id;\n        this.timeFrom = request.time_from;\n        this.timeTo = request.time_to;\n      } else {\n        if (\n          this.timeTo.substring(0, 2) * 60 +\n            this.timeTo.substring(3, 5) * 1 -\n            (this.timeFrom.substring(0, 2) * 60 +\n              this.timeFrom.substring(3, 5) * 1) <\n          60\n        ) {\n          this.error = \"The shift must last at least 1 hour\";\n        } else {\n          if (\n            this.timeFrom.substring(0, 2) * 1 >\n            this.timeTo.substring(0, 2) * 1\n          ) {\n            this.error =\n              \"You can do shifts only in one day, if you want do night shift, split shift into individual days.\";\n          } else {\n            var updatedRequest = {\n              time_from: this.timeFrom.substring(0, 5),\n              time_to: this.timeTo.substring(0, 5),\n            };\n            axios\n              .put(\n                process.env.VUE_APP_MAIN_PATH+\"/api/shifts/update/\" + this.id,\n                updatedRequest\n              )\n              .then((res) => {\n                this.message = res.data.msg;\n                this.$bvToast.show(\"my-toast\");\n              });\n            this.error = \"\";\n            this.timeFrom = \"\";\n            this.timeTo = \"\";\n            this.date = \"\";\n            this.items = [];\n            this.loadRequests();\n            this.edit = false;\n          }\n        }\n      }\n    },\n    //Function for save all days in the day.. (Confirm shifts)\n    updateAll() {\n      for (var i = 0; i < this.requests.length; i++) {\n        if (\n          new Date(this.requests[i].date).getTime() ===\n          new Date(this.keyword).getTime()\n        ) {\n          this.confirmRequests(this.requests[i]);\n        }\n      }\n      this.message = \"Shifts for the day has been confirmed!\";\n      this.$bvToast.show(\"my-toast\");\n\n      this.items = [];\n      this.loadRequests();\n    },\n\n    //Confirm shifts and save to DB.\n    confirmRequests(request) {\n      var updatedRequest = {\n        time_from: request.time_from.substring(0, 5),\n        time_to: request.time_to.substring(0, 5),\n        request: false,\n      };\n      axios\n        .put(\n          process.env.VUE_APP_MAIN_PATH+\"/api/shifts/update/\" + request._id,\n          updatedRequest\n        )\n        .then(() => {});\n      this.error = \"\";\n      this.timeFrom = \"\";\n      this.timeTo = \"\";\n      this.date = \"\";\n    },\n\n    //Function for removing shift requests\n    async remove(shift) {\n      axios\n        .delete(process.env.VUE_APP_MAIN_PATH+\"/api/shifts/delete/\" + shift._id)\n        .then((res) => {\n          this.message = res.data.msg;\n          this.$bvToast.show(\"my-toast\");\n        });\n      this.items = [];\n      this.loadRequests();\n    },\n\n    //Function for load data from server to table\n    async loadRequests() {\n      this.isBusy = true;\n      this.requests = await axios.get(\n        process.env.VUE_APP_MAIN_PATH+\"/api/shifts/requests\"\n      );\n      for (var i = 0; i < this.requests.data.length; i++) {\n        let item = {\n          _id: this.requests.data[i]._id,\n          fullname:\n            this.requests.data[i].owner.name +\n            \" \" +\n            this.requests.data[i].owner.lastname +\n            \" - \" +\n            this.requests.data[i].owner.email,\n          position: this.requests.data[i].owner.position.name,\n          date: this.requests.data[i].date,\n          time_from: this.requests.data[i].time_from,\n          time_to: this.requests.data[i].time_to,\n        };\n        this.items.push(item);\n      }\n      this.requests = this.requests.data;\n      this.isBusy = false;\n    },\n\n    //set filter data to date picker and show week\n    showNextWeek() {\n      this.editWeek = true;\n      this.fields.push({ key: \"action\", label: \"Action\", sortable: true, tdClass: 'actionBar' });\n      var filterDate = new Date();\n      //set minDate in calendar to monday two weeks in advance\n      filterDate.setDate(filterDate.getDate() + (7 - filterDate.getDay()) + 1);\n      this.keyword =\n        filterDate.getFullYear() +\n        \"-\" +\n        (\"0\" + (filterDate.getMonth() + 1)).slice(-2) +\n        \"-\" +\n        (\"0\" + filterDate.getDate()).slice(-2);\n    },\n    //Function for get next day\n    nextDay() {\n      var filterDate = new Date(this.keyword);\n      if (filterDate.getTime() < new Date(this.max).getTime()) {\n        filterDate.setDate(filterDate.getDate() + 1);\n        this.keyword =\n          filterDate.getFullYear() +\n          \"-\" +\n          (\"0\" + (filterDate.getMonth() + 1)).slice(-2) +\n          \"-\" +\n          (\"0\" + filterDate.getDate()).slice(-2);\n      }\n    },\n\n    //Function for get previous day\n    previousDay() {\n      var filterDate = new Date(this.keyword);\n      if (filterDate.getTime() > new Date(this.min).getTime()) {\n        filterDate.setDate(filterDate.getDate() - 1);\n        this.keyword =\n          filterDate.getFullYear() +\n          \"-\" +\n          (\"0\" + (filterDate.getMonth() + 1)).slice(-2) +\n          \"-\" +\n          (\"0\" + filterDate.getDate()).slice(-2);\n      }\n    },\n\n    //for \"Show all shifts\" button, show all requests\n    allShifts() {\n      this.keyword = \"\";\n      this.editWeek = false;\n      this.fields = [\n        { key: \"fullname\", label: \"Full Name\", sortable: true },\n        { key: \"position\", label: \"Employee position\", sortable: true },\n        { key: \"date\", label: \"Date (YYYY-MM-DD)\", sortable: true },\n        { key: \"time_from\", label: \"Start shift (HH:mm)\", sortable: true },\n        { key: \"time_to\", label: \"End shift (HH:mm)\", sortable: true },\n      ];\n    },\n\n    //This is function for back button in edit and add form\n    back() {\n      this.edit = false;\n      this.add = false;\n      this.timeFrom = \"\";\n      this.timeTo = \"\";\n      this.date = \"\";\n      this.error = \"\";\n    },\n  },\n\n  computed: {\n    ...mapGetters([\"isAdmin\"]),\n    ...mapGetters([\"isManager\"]),\n\n    //Function for filtering data from table on name, hours and holiday hours\n    filterList() {\n      return this.keyword\n        ? this.requests.filter((item) => item.date.includes(this.keyword))\n        : this.requests;\n    },\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShiftRequestsMng.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShiftRequestsMng.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShiftRequestsMng.vue?vue&type=template&id=ba778494&\"\nimport script from \"./ShiftRequestsMng.vue?vue&type=script&lang=js&\"\nexport * from \"./ShiftRequestsMng.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"requests\"}},[(_vm.edit !== true && _vm.add !== true)?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2 mngbtn\",attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.addRequest()}}},[_vm._v(\"Add a new shift request\")]):_vm._e(),(_vm.edit !== true && _vm.add !== true)?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2 mngbtn\",attrs:{\"variant\":\"outline-dark\"},on:{\"click\":function($event){return _vm.$bvToast.show('help-toast')}}},[_vm._v(\"Help\")]):_vm._e(),_c('b-toast',{attrs:{\"id\":\"help-toast\",\"title\":\"Shift helper\",\"static\":\"\",\"no-auto-hide\":\"\"}},[_c('p',[_vm._v(\" You can submit your shift requests on this page. If you have time all day, enter the time from 00:00 to 23:59. The shift can only be entered for one day, if you want to do a night shift, you must divide the shifts into two days. \")])]),_c('b-toast',{attrs:{\"id\":\"my-toast\",\"variant\":\"success\",\"solid\":\"\"},scopedSlots:_vm._u([{key:\"toast-title\",fn:function(){return [_c('div',{staticClass:\"d-flex flex-grow-1 align-items-baseline\"},[_c('b-img',{staticClass:\"mr-2\",attrs:{\"blank\":\"\",\"blank-color\":\"green\",\"width\":\"12\",\"height\":\"12\"}}),_c('strong',{staticClass:\"mr-auto\"},[_vm._v(\"Message!\")]),_c('small',{staticClass:\"text-muted mr-2\"},[_vm._v(\"now\")])],1)]},proxy:true}])},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]),(_vm.edit !== true && _vm.add !== true)?_c('b-input-group',[_c('b-form-datepicker',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"id\":\"filter-input\",\"locale\":\"en\",\"placeholder\":\"Choose a date for filter shifts\"},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}}),_c('b-input-group-append',[_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"disabled\":!_vm.keyword},on:{\"click\":function($event){_vm.keyword = ''}}},[_vm._v(\"Clear\")])],1)],1):_vm._e(),_c('div',{staticClass:\"resp-table\"},[(_vm.edit !== true && _vm.add !== true)?_c('b-table',{ref:\"table\",attrs:{\"items\":_vm.requests,\"fields\":_vm.fields,\"filter\":_vm.keyword,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"busy\":_vm.isBusy,\"head-variant\":\"dark\",\"responsive\":\"\"},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event}},scopedSlots:_vm._u([{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center text-dark my-2\"},[_c('b-spinner',{staticClass:\"align-middle\",attrs:{\"variant\":\"dark\"}}),_c('strong',[_vm._v(\"Loading...\")])],1)]},proxy:true},{key:\"cell(action)\",fn:function(data){return [(new Date(data.item.date).getTime() > _vm.maxEditDate.getTime())?_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\"},on:{\"click\":function($event){return _vm.editRequest(data.item)}}},[_vm._v(\"Edit\")]):_vm._e(),(new Date(data.item.date).getTime() > _vm.maxEditDate.getTime())?_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.remove(data.item)}}},[_vm._v(\"Delete\")]):_vm._e(),(new Date(data.item.date).getTime() < _vm.maxEditDate.getTime())?_c('p',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"Waiting for approval!\")]):_vm._e()]}}],null,false,1535859014)}):_vm._e()],1),(_vm.edit == true)?_c('div',{staticClass:\"edit\"},[_c('h2',[_vm._v(\"Edit shift request\"),_c('br'),_vm._v(_vm._s(_vm.date))]),(_vm.error)?_c('b-alert',{attrs:{\"show\":\"\",\"dismissible\":\"\",\"fade\":\"\",\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_c('b-form',{staticClass:\"justify-content-center\",on:{\"submit\":function($event){$event.preventDefault();return _vm.editRequest(null)}}},[_c('b-form-timepicker',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"locale\":\"cs\",\"placeholder\":\"Choose time from:\"},model:{value:(_vm.timeFrom),callback:function ($$v) {_vm.timeFrom=$$v},expression:\"timeFrom\"}}),_c('b-form-timepicker',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"locale\":\"cs\",\"placeholder\":\"Choose time to:\",\"value\":\"23:50\"},model:{value:(_vm.timeTo),callback:function ($$v) {_vm.timeTo=$$v},expression:\"timeTo\"}}),(_vm.timeFrom > _vm.timeTo)?_c('b-alert',{attrs:{\"show\":\"\",\"dismissible\":\"\",\"fade\":\"\",\"variant\":\"danger\"}},[_vm._v(\"Your shift must start earlier than ends. (Start < End)\")]):_vm._e(),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\",\"type\":\"submit\"}},[_vm._v(\"Edit\")]),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"outline-dark\"},on:{\"click\":function($event){return _vm.back()}}},[_vm._v(\"Back\")])],1)],1):_vm._e(),(_vm.add == true)?_c('div',{staticClass:\"edit\"},[_c('h2',[_vm._v(\"Add new shift request\")]),(_vm.error)?_c('b-alert',{attrs:{\"show\":\"\",\"dismissible\":\"\",\"fade\":\"\",\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_c('b-form',{staticClass:\"justify-content-center\",on:{\"submit\":function($event){$event.preventDefault();return _vm.addRequest()}}},[_c('b-form-datepicker',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"min\":_vm.min,\"max\":_vm.max,\"id\":\"filter-input\",\"locale\":\"en\",\"required\":\"\",\"placeholder\":\"Choose a date:\",\"data-toggle\":\"tooltip\",\"data-placement\":\"top\",\"title\":\"Requests must be 14 days before..\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}}),_c('b-form-timepicker',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"required\":\"\",\"locale\":\"cs\",\"placeholder\":\"Start shift:\"},model:{value:(_vm.timeFrom),callback:function ($$v) {_vm.timeFrom=$$v},expression:\"timeFrom\"}}),_c('b-form-timepicker',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"required\":\"\",\"locale\":\"cs\",\"placeholder\":\"End shift:\"},model:{value:(_vm.timeTo),callback:function ($$v) {_vm.timeTo=$$v},expression:\"timeTo\"}}),(_vm.timeFrom > _vm.timeTo)?_c('b-alert',{attrs:{\"show\":\"\",\"dismissible\":\"\",\"fade\":\"\",\"variant\":\"danger\"}},[_vm._v(\"Your shift must start earlier than ends. (Start < End)\")]):_vm._e(),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\",\"type\":\"submit\"}},[_vm._v(\"Add\")]),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"outline-dark\"},on:{\"click\":function($event){return _vm.back()}}},[_vm._v(\"Back\")])],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"requests\">\n    <!--Button for adding new shift request-->\n    <b-button\n      variant=\"success\"\n      v-if=\"edit !== true && add !== true\"\n      class=\"mb-2 mr-sm-2 mb-sm-2 mngbtn\"\n      @click=\"addRequest()\"\n      >Add a new shift request</b-button\n    >\n\n    <!--Help button for employees-->\n    <b-button\n      variant=\"outline-dark\"\n      v-if=\"edit !== true && add !== true\"\n      class=\"mb-2 mr-sm-2 mb-sm-2 mngbtn\"\n      @click=\"$bvToast.show('help-toast')\"\n      >Help</b-button\n    >\n    <b-toast id=\"help-toast\" title=\"Shift helper\" static no-auto-hide>\n      <p>\n        You can submit your shift requests on this page. If you have time all\n        day, enter the time from 00:00 to 23:59. The shift can only be entered\n        for one day, if you want to do a night shift, you must divide the shifts\n        into two days.\n      </p>\n    </b-toast>\n\n    <!-- Toast with announcement -->\n    <b-toast id=\"my-toast\" variant=\"success\" solid>\n      <template #toast-title>\n        <div class=\"d-flex flex-grow-1 align-items-baseline\">\n          <b-img\n            blank\n            blank-color=\"green\"\n            class=\"mr-2\"\n            width=\"12\"\n            height=\"12\"\n          ></b-img>\n          <strong class=\"mr-auto\">Message!</strong>\n          <small class=\"text-muted mr-2\">now</small>\n        </div>\n      </template>\n      {{ message }}\n    </b-toast>\n\n    <!-- Search ipnut for filtering data from table -->\n    <b-input-group v-if=\"edit !== true && add !== true\">\n      <b-form-datepicker\n        class=\"mb-2 mr-sm-2 mb-sm-2\"\n        id=\"filter-input\"\n        v-model=\"keyword\"\n        locale=\"en\"\n        placeholder=\"Choose a date for filter shifts\"\n      ></b-form-datepicker>\n      <b-input-group-append>\n        <b-button\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          :disabled=\"!keyword\"\n          @click=\"keyword = ''\"\n          >Clear</b-button\n        >\n      </b-input-group-append>\n    </b-input-group>\n\n    <div class=\"resp-table\">\n      <!-- Table -->\n      <b-table\n        :items=\"requests\"\n        :fields=\"fields\"\n        :filter=\"keyword\"\n        :sort-by.sync=\"sortBy\"\n        :sort-desc.sync=\"sortDesc\"\n        :busy=\"isBusy\"\n        head-variant=\"dark\"\n        responsive\n        v-if=\"edit !== true && add !== true\"\n        ref=\"table\"\n      >\n        <!-- Loading spinner, if app getting data from backend -->\n        <template #table-busy>\n          <div class=\"text-center text-dark my-2\">\n            <b-spinner variant=\"dark\" class=\"align-middle\"></b-spinner>\n            <strong>Loading...</strong>\n          </div>\n        </template>\n\n        <!-- Add custom cell for action buttons -->\n        <template v-slot:cell(action)=\"data\">\n          <b-button v-if=\"new Date(data.item.date).getTime() > maxEditDate.getTime()\"  block variant=\"dark\" @click=\"editRequest(data.item)\"\n          >Edit</b-button\n          ><b-button v-if=\"new Date(data.item.date).getTime() > maxEditDate.getTime()\" block variant=\"danger\" @click=\"remove(data.item)\"\n            >Delete</b-button\n          >\n          <p v-if=\"new Date(data.item.date).getTime() < maxEditDate.getTime()\" style=\"text-align: center\">Waiting for approval!</p>\n        </template>\n      </b-table>\n    </div>\n\n    <!-- Edit form for requests -->\n    <div class=\"edit\" v-if=\"edit == true\">\n      <h2>Edit shift request<br />{{ date }}</h2>\n\n      <!-- Error alert -->\n      <b-alert show dismissible fade variant=\"danger\" v-if=\"error\">{{\n        error\n      }}</b-alert>\n      <b-form\n        class=\"justify-content-center\"\n        @submit.prevent=\"editRequest(null)\"\n      >\n        <b-form-timepicker\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          v-model=\"timeFrom\"\n          locale=\"cs\"\n          placeholder=\"Choose time from:\"\n        ></b-form-timepicker>\n        <b-form-timepicker\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          v-model=\"timeTo\"\n          locale=\"cs\"\n          placeholder=\"Choose time to:\"\n          value=\"23:50\"\n        ></b-form-timepicker>\n\n        <!-- Real time error alert - checking right time -->\n        <b-alert show dismissible fade variant=\"danger\" v-if=\"timeFrom > timeTo\"\n          >Your shift must start earlier than ends. (Start &lt; End)</b-alert\n        >\n        <b-button block variant=\"dark\" type=\"submit\">Edit</b-button>\n        <b-button block variant=\"outline-dark\" @click=\"back()\">Back</b-button>\n      </b-form>\n    </div>\n\n    <!-- Adding form for requests -->\n    <div class=\"edit\" v-if=\"add == true\">\n      <h2>Add new shift request</h2>\n      <b-alert show dismissible fade variant=\"danger\" v-if=\"error\">{{\n        error\n      }}</b-alert>\n      <b-form class=\"justify-content-center\" @submit.prevent=\"addRequest()\">\n        <b-form-datepicker\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          :min=\"min\"\n          :max=\"max\"\n          id=\"filter-input\"\n          v-model=\"date\"\n          locale=\"en\"\n          required\n          placeholder=\"Choose a date:\"\n          data-toggle=\"tooltip\"\n          data-placement=\"top\"\n          title=\"Requests must be 14 days before..\"\n        ></b-form-datepicker>\n        <b-form-timepicker\n          required\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          v-model=\"timeFrom\"\n          locale=\"cs\"\n          placeholder=\"Start shift:\"\n        ></b-form-timepicker>\n        <b-form-timepicker\n          required\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          v-model=\"timeTo\"\n          locale=\"cs\"\n          placeholder=\"End shift:\"\n        ></b-form-timepicker>\n\n        <!-- Real time error alert - checking right time -->\n        <b-alert show dismissible fade variant=\"danger\" v-if=\"timeFrom > timeTo\"\n          >Your shift must start earlier than ends. (Start &lt; End)</b-alert\n        >\n\n        <b-button block variant=\"dark\" type=\"submit\">Add</b-button>\n        <b-button block variant=\"outline-dark\" @click=\"back()\">Back</b-button>\n      </b-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    //get actual date\n    var minDate = new Date();\n    var maxEditDate = new Date();\n    maxEditDate.setDate(maxEditDate.getDate() + (7 - maxEditDate.getDay()) +7);\n    //set minDate in calendar to monday two weeks in advance\n    minDate.setDate(minDate.getDate() + (7 - minDate.getDay()) + 8);\n    return {\n      isBusy: false,\n      requests: [],\n      keyword: null,\n      edit: false,\n      add: false,\n      sortBy: \"date\",\n      sortDesc: true,\n      id: \"\",\n      date: \"\",\n      timeFrom: \"\",\n      timeTo: \"\",\n      maxEditDate: maxEditDate,\n      min: minDate,\n      max: \"\",\n      message: \"\",\n      error: \"\",\n      fields: [\n        { key: \"date\", label: \"Date (YYYY-MM-DD)\", sortable: true },\n        { key: \"time_from\", label: \"Start shift (HH:mm)\", sortable: true },\n        { key: \"time_to\", label: \"End shift (HH:mm)\", sortable: true },\n        { key: \"action\", label: \"Action\", sortable: true, tdClass: 'actionBar' },\n      ],\n    };\n  },\n\n  created() {\n    //Load employee requests, if page is rendering\n    this.loadRequests();\n  },\n\n  methods: {\n    ...mapActions([\"logout\"]),\n    //Funciton for add new request - only employee.\n    addRequest() {\n      if (!this.add) {\n        this.add = true;\n      } else {\n        if (this.timeFrom && this.timeTo && this.date) {\n          //checking minimal range of shift\n          if (\n            this.timeTo.substring(0, 2) * 60 +\n              this.timeTo.substring(3, 5) * 1 -\n              (this.timeFrom.substring(0, 2) * 60 +\n                this.timeFrom.substring(3, 5) * 1) <\n            60\n          ) {\n            this.error = \"The shift must last at least 1 hour\";\n          } else {\n            //condition for check start shift time < end shift time\n            if (\n              this.timeFrom.substring(0, 2) * 1 >\n              this.timeTo.substring(0, 2) * 1\n            ) {\n              this.error =\n                \"You can do shifts only in one day, if you want do night shift, split shift into individual days.\";\n            } else {\n              var newRequest = {\n                time_from: this.timeFrom.substring(0, 5),\n                time_to: this.timeTo.substring(0, 5),\n                date: this.date,\n              };\n              axios\n                .post(\n                  process.env.VUE_APP_MAIN_PATH+\"/api/shifts/newrequest/\",\n                  newRequest\n                )\n                .then((res) => {\n                  this.message = res.data.msg;\n                  this.$bvToast.show(\"my-toast\");\n                  this.timeFrom = \"\";\n                  this.timeTo = \"\";\n                  this.date = \"\";\n                  this.error = \"\";\n                  this.requests = [];\n                  this.add = false;\n                  this.loadRequests();\n                })\n                .catch((error) => {\n                  this.error = error.response.data.msg;\n                });\n            }\n          }\n        } else {\n          //this is because date and time picker dont have required in tag condition\n          this.error = \"You must fill all inputs!\";\n        }\n      }\n    },\n    //Funciton for editing requests - only employee.\n    editRequest(request) {\n      //This condition set data from table to edit form, if edit == false\n      if (!this.edit) {\n        this.edit = true;\n        this.date = request.date;\n        this.id = request._id;\n        this.timeFrom = request.time_from;\n        this.timeTo = request.time_to;\n      } else {\n        if (this.timeFrom && this.timeTo) {\n          //same as edit\n          if (\n            this.timeTo.substring(0, 2) * 60 +\n              this.timeTo.substring(3, 5) * 1 -\n              (this.timeFrom.substring(0, 2) * 60 +\n                this.timeFrom.substring(3, 5) * 1) <\n            60\n          ) {\n            this.error = \"The shift must last at least 1 hour\";\n          } else {\n            if (\n              this.timeFrom.substring(0, 2) * 1 >\n              this.timeTo.substring(0, 2) * 1\n            ) {\n              this.error =\n                \"You can do shifts only in one day, if you want do night shift, split shift into individual days.\";\n            } else {\n              var updatedRequest = {\n                time_from: this.timeFrom.substring(0, 5),\n                time_to: this.timeTo.substring(0, 5),\n              };\n              axios\n                .put(\n                  process.env.VUE_APP_MAIN_PATH+\"/api/shifts/update/\" + this.id,\n                  updatedRequest\n                )\n                .then((res) => {\n                  this.message = res.data.msg;\n                  this.items = [];\n                  this.loadRequests();\n                });\n              this.$bvToast.show(\"my-toast\");\n              this.error = \"\";\n              this.timeFrom = \"\";\n              this.timeTo = \"\";\n              this.date = \"\";\n              this.requests = [];\n              this.loadRequests();\n              this.edit = false;\n            }\n          }\n        } else {\n          this.error = \"You must fill all inputs!\";\n        }\n      }\n    },\n\n    //Function for removing shift requests - only employee\n    async remove(shift) {\n      axios\n        .delete(process.env.VUE_APP_MAIN_PATH+\"/api/shifts/delete/\" + shift._id)\n        .then((res) => {\n          this.message = res.data.msg;\n          this.$bvToast.show(\"my-toast\");\n        });\n      this.requests = [];\n      this.loadRequests();\n    },\n\n    //Function for load data from server to table\n    async loadRequests() {\n      this.isBusy = true;\n      this.requests = await axios.get(\n        process.env.VUE_APP_MAIN_PATH+\"/api/shifts/myrequests\"\n      );\n      this.requests = this.requests.data;\n      this.isBusy = false;\n    },\n\n    //This is function for back button in edit and add form\n    back() {\n      this.edit = false;\n      this.add = false;\n      this.timeFrom = \"\";\n      this.timeTo = \"\";\n      this.date = \"\";\n      this.error = \"\";\n    },\n  },\n\n\n  computed: {\n    ...mapGetters([\"isAdmin\"]),\n    ...mapGetters([\"isManager\"]),\n\n    //Function for filtering data from table on name, hours and holiday hours\n    filterList() {\n      return this.keyword\n        ? this.requests.filter((item) => item.date.includes(this.keyword))\n        : this.requests;\n    },\n  },\n};\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShiftRequestsEmployee.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShiftRequestsEmployee.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShiftRequestsEmployee.vue?vue&type=template&id=6417a176&\"\nimport script from \"./ShiftRequestsEmployee.vue?vue&type=script&lang=js&\"\nexport * from \"./ShiftRequestsEmployee.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"positions\"}},[(_vm.edit !== true && _vm.add !== true && _vm.isAdmin)?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.addNewPosition()}}},[_vm._v(\"Add new position\")]):_vm._e(),_c('b-toast',{attrs:{\"id\":\"my-toast\",\"variant\":\"success\",\"solid\":\"\"},scopedSlots:_vm._u([{key:\"toast-title\",fn:function(){return [_c('div',{staticClass:\"d-flex flex-grow-1 align-items-baseline\"},[_c('b-img',{staticClass:\"mr-2\",attrs:{\"blank\":\"\",\"blank-color\":\"green\",\"width\":\"12\",\"height\":\"12\"}}),_c('strong',{staticClass:\"mr-auto\"},[_vm._v(\"Message!\")]),_c('small',{staticClass:\"text-muted mr-2\"},[_vm._v(\"now\")])],1)]},proxy:true}])},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]),(_vm.edit !== true && _vm.add !== true)?_c('b-input-group',[_c('b-form-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"id\":\"filter-input\",\"type\":\"search\",\"placeholder\":\"Search by name, description and salary\"},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}}),_c('b-input-group-append',[_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"disabled\":!_vm.keyword},on:{\"click\":function($event){_vm.keyword = ''}}},[_vm._v(\"Clear\")])],1)],1):_vm._e(),_c('div',{staticClass:\"resp-table\"},[(_vm.edit !== true && _vm.add !== true)?_c('b-table',{ref:\"table\",attrs:{\"items\":_vm.positions,\"fields\":_vm.fields,\"filter\":_vm.keyword,\"busy\":_vm.isBusy,\"head-variant\":\"dark\",\"responsive\":\"\"},scopedSlots:_vm._u([{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center text-dark my-2\"},[_c('b-spinner',{staticClass:\"align-middle\",attrs:{\"variant\":\"dark\"}}),_c('strong',[_vm._v(\"Loading...\")])],1)]},proxy:true},{key:\"cell(show_employees)\",fn:function(row){return [_c('b-button',{staticClass:\"mr-2\",attrs:{\"size\":\"sm\",\"variant\":\"dark\"},on:{\"click\":row.toggleDetails}},[_vm._v(\" \"+_vm._s(row.detailsShowing ? \"Hide\" : \"Show\")+\" employees \")])]}},{key:\"row-details\",fn:function(row){return [_c('b-card',_vm._l((row.item.employees),function(employee){return _c('span',{key:employee.id},[_vm._v(\" \"+_vm._s(employee.name + \" \" + employee.lastname + \" - \" + employee.email)+\" \"),_c('b',[_vm._v(\" | \")])])}),0)]}},{key:\"cell(action)\",fn:function(data){return [_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\"},on:{\"click\":function($event){return _vm.editPosition(data.item)}}},[_vm._v(\"Edit\")]),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.remove(data.item)}}},[_vm._v(\"Delete\")])]}}],null,false,3097917116)}):_vm._e()],1),(_vm.edit == true)?_c('div',{staticClass:\"edit\"},[_c('h2',[_vm._v(\"Edit position\")]),_c('b-form',{staticClass:\"justify-content-center\",on:{\"submit\":function($event){$event.preventDefault();return _vm.editPosition(null)}}},[_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"required\":\"\",\"placeholder\":\"Name of position\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"required\":\"\",\"placeholder\":\"Default salary (hourly or fixed wage)\"},model:{value:(_vm.defaultSalary),callback:function ($$v) {_vm.defaultSalary=$$v},expression:\"defaultSalary\"}}),_c('b-form-textarea',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"required\":\"\",\"placeholder\":\"Enter description of position...\",\"rows\":\"3\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}}),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\",\"type\":\"submit\"}},[_vm._v(\"Edit\")]),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"outline-dark\"},on:{\"click\":function($event){return _vm.back()}}},[_vm._v(\"Back\")])],1)],1):_vm._e(),(_vm.add == true)?_c('div',{staticClass:\"edit\"},[_c('h2',[_vm._v(\"Add new position\")]),_c('b-form',{staticClass:\"justify-content-center\",on:{\"submit\":function($event){$event.preventDefault();return _vm.addNewPosition()}}},[_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"required\":\"\",\"placeholder\":\"Name of position\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"required\":\"\",\"placeholder\":\"Default salary (hourly or fixed wage)\"},model:{value:(_vm.defaultSalary),callback:function ($$v) {_vm.defaultSalary=$$v},expression:\"defaultSalary\"}}),_c('b-form-textarea',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"required\":\"\",\"placeholder\":\"Enter description of position...\",\"rows\":\"3\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}}),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\",\"type\":\"submit\"}},[_vm._v(\"Add\")]),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"outline-dark\"},on:{\"click\":function($event){return _vm.back()}}},[_vm._v(\"Back\")])],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"positions\">\n    <!--Button for adding new position-->\n    <b-button\n      variant=\"success\"\n      v-if=\"edit !== true && add !== true && isAdmin\"\n      class=\"mb-2 mr-sm-2 mb-sm-2\"\n      @click=\"addNewPosition()\"\n      >Add new position</b-button\n    >\n    <!-- Toast with announcement -->\n    <b-toast id=\"my-toast\" variant=\"success\" solid>\n      <template #toast-title>\n        <div class=\"d-flex flex-grow-1 align-items-baseline\">\n          <b-img\n            blank\n            blank-color=\"green\"\n            class=\"mr-2\"\n            width=\"12\"\n            height=\"12\"\n          ></b-img>\n          <strong class=\"mr-auto\">Message!</strong>\n          <small class=\"text-muted mr-2\">now</small>\n        </div>\n      </template>\n      {{ message }}\n    </b-toast>\n\n    <!-- Search ipnut for filtering data from table -->\n    <b-input-group v-if=\"edit !== true && add !== true\">\n      <b-form-input\n        class=\"mb-2 mr-sm-2 mb-sm-2\"\n        id=\"filter-input\"\n        v-model=\"keyword\"\n        type=\"search\"\n        placeholder=\"Search by name, description and salary\"\n      ></b-form-input>\n      <b-input-group-append>\n        <b-button\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          :disabled=\"!keyword\"\n          @click=\"keyword = ''\"\n          >Clear</b-button\n        >\n      </b-input-group-append>\n    </b-input-group>\n\n    <div class=\"resp-table\">\n      <!-- Table -->\n      <b-table\n        :items=\"positions\"\n        :fields=\"fields\"\n        :filter=\"keyword\"\n        :busy=\"isBusy\"\n        head-variant=\"dark\"\n        responsive\n        v-if=\"edit !== true && add !== true\"\n        ref=\"table\"\n      >\n        <!-- Loading spinner, if app getting data from backend -->\n        <template #table-busy>\n          <div class=\"text-center text-dark my-2\">\n            <b-spinner variant=\"dark\" class=\"align-middle\"></b-spinner>\n            <strong>Loading...</strong>\n          </div>\n        </template>\n\n        <!-- Custom table cell for toast with employees with position -->\n        <template #cell(show_employees)=\"row\">\n          <b-button\n            size=\"sm\"\n            variant=\"dark\"\n            @click=\"row.toggleDetails\"\n            class=\"mr-2\"\n          >\n            {{ row.detailsShowing ? \"Hide\" : \"Show\" }} employees\n          </b-button>\n        </template>\n\n        <!-- Toast with employee details -->\n        <template #row-details=\"row\">\n          <b-card>\n            <span v-for=\"employee in row.item.employees\" :key=\"employee.id\">\n              {{\n                employee.name + \" \" + employee.lastname + \" - \" + employee.email\n              }}\n              <b> | </b>\n            </span>\n          </b-card>\n        </template>\n\n        <!-- Add custom cell for action buttons -->\n        <template v-slot:cell(action)=\"data\">\n          <b-button block variant=\"dark\" @click=\"editPosition(data.item)\"\n            >Edit</b-button\n          ><b-button block variant=\"danger\" @click=\"remove(data.item)\"\n            >Delete</b-button\n          >\n        </template>\n      </b-table>\n    </div>\n    <!-- Edit form for position -->\n    <div class=\"edit\" v-if=\"edit == true\">\n      <h2>Edit position</h2>\n      <b-form\n        class=\"justify-content-center\"\n        @submit.prevent=\"editPosition(null)\"\n      >\n        <b-input\n          required\n          v-model=\"name\"\n          placeholder=\"Name of position\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n        ></b-input>\n        <b-input\n          required\n          v-model=\"defaultSalary\"\n          placeholder=\"Default salary (hourly or fixed wage)\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n        ></b-input>\n        <b-form-textarea\n          required\n          v-model=\"description\"\n          placeholder=\"Enter description of position...\"\n          rows=\"3\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n        ></b-form-textarea>\n        <b-button block variant=\"dark\" type=\"submit\">Edit</b-button>\n        <b-button block variant=\"outline-dark\" @click=\"back()\">Back</b-button>\n      </b-form>\n    </div>\n\n    <!-- Adding form for position -->\n    <div class=\"edit\" v-if=\"add == true\">\n      <h2>Add new position</h2>\n      <b-form class=\"justify-content-center\" @submit.prevent=\"addNewPosition()\">\n        <b-input\n          required\n          v-model=\"name\"\n          placeholder=\"Name of position\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n        ></b-input>\n        <b-input\n          required\n          v-model=\"defaultSalary\"\n          placeholder=\"Default salary (hourly or fixed wage)\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n        ></b-input>\n        <b-form-textarea\n          required\n          v-model=\"description\"\n          placeholder=\"Enter description of position...\"\n          rows=\"3\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n        ></b-form-textarea>\n        <b-button block variant=\"dark\" type=\"submit\">Add</b-button>\n        <b-button block variant=\"outline-dark\" @click=\"back()\">Back</b-button>\n      </b-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      isBusy: false,\n      positions: [],\n      keyword: null,\n      edit: false,\n      add: false,\n      id: \"\",\n      name: \"\",\n      description: \"\",\n      defaultSalary: \"\",\n      message: \"\",\n      fields: [\n        { key: \"name\", label: \"Name\", sortable: true },\n        { key: \"description\", label: \"Position specification\", sortable: true },\n        { key: \"default_salary\", label: \"Default salary\", sortable: true },\n        { key: \"show_employees\", label: \"Employees\", tdClass: \"actionBar\" },\n      ],\n    };\n  },\n\n  created() {\n    //Load positions, if page is rendering\n    this.loadPositions();\n  },\n\n  methods: {\n    //Funciton for add new position - only admin (Send request to server).\n    addNewPosition() {\n      if (!this.add) {\n        this.add = true;\n      } else {\n        var newPosition = {\n          name: this.name,\n          description: this.description,\n          default_salary: this.defaultSalary,\n        };\n        axios.post(process.env.VUE_APP_MAIN_PATH +\"/api/jobpositions/new/\", newPosition).then((res) => {\n          this.message = res.data.msg;\n        });\n        (this.name = \"\"),\n          (this.description = \"\"),\n          (this.defaultSalary = \"\"),\n          this.$bvToast.show(\"my-toast\");\n        this.positions = [];\n        this.add = false;\n        this.loadPositions();\n      }\n    },\n    //Funciton for editing position - only admin (Send request to server).\n    editPosition(position) {\n      //This condition set data from table to edit form, if edit == false\n      if (!this.edit) {\n        this.edit = true;\n        this.id = position._id;\n        this.name = position.name;\n        this.description = position.description;\n        this.defaultSalary = position.default_salary;\n      } else {\n        var updatedPosition = {\n          name: this.name,\n          description: this.description,\n          default_salary: this.defaultSalary,\n        };\n\n        axios\n          .put(\n            process.env.VUE_APP_MAIN_PATH +\n              \"/api/jobpositions/update/\" +\n              this.id,\n            updatedPosition\n          )\n          .then((res) => {\n            this.name = \"\";\n            this.description = \"\";\n            this.defaultSalary = \"\";\n            this.message = res.data.msg;\n            this.$bvToast.show(\"my-toast\");\n            this.positions = [];\n            this.edit = false;\n            //this.loadPositions();\n          });\n      }\n    },\n\n    //Function for removing position - only admin (Send request to server)\n    async remove(position) {\n      axios\n        .delete(\n          process.env.VUE_APP_MAIN_PATH +\n            \"/api/jobpositions/delete/\" +\n            position._id\n        )\n        .then((res) => {\n          this.message = res.data.msg;\n          this.$bvToast.show(\"my-toast\");\n          this.positions = [];\n          this.loadPositions();\n        });\n    },\n\n    //Function for load data from server to table\n    async loadPositions() {\n      this.isBusy = true;\n      this.positions = await axios.get(\n        process.env.VUE_APP_MAIN_PATH + \"/api/jobpositions/all\"\n      );\n      this.positions = this.positions.data;\n      this.isBusy = false;\n    },\n\n    //This is function for back button in edit and add form\n    back() {\n      this.edit = false;\n      this.add = false;\n      this.name = \"\";\n      this.description = \"\";\n      this.defaultSalary = \"\";\n    },\n  },\n\n  async mounted() {\n    //add action bar for admin\n    if (this.isAdmin) {\n      this.fields.push({\n        key: \"action\",\n        label: \"Action\",\n        tdClass: \"actionBar\",\n      });\n    }\n  },\n\n  computed: {\n    ...mapGetters([\"isAdmin\"]),\n    ...mapGetters([\"isManager\"]),\n\n    //Function for filtering data from table on name, hours and holiday hours\n    filterList() {\n      return this.keyword\n        ? this.positions.filter(\n            (item) =>\n              item.name.includes(this.keyword) ||\n              item.description.includes(this.keyword) ||\n              item.defaultSalary.includes(this.keyword)\n          )\n        : this.positions;\n    },\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Positions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Positions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Positions.vue?vue&type=template&id=51be5c72&\"\nimport script from \"./Positions.vue?vue&type=script&lang=js&\"\nexport * from \"./Positions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"registerForm\"}},[_c('h2',{attrs:{\"align\":\"center\"}},[_vm._v(\"Register employee\")]),_c('b-toast',{attrs:{\"id\":\"my-toast\",\"variant\":\"success\",\"solid\":\"\"},scopedSlots:_vm._u([{key:\"toast-title\",fn:function(){return [_c('div',{staticClass:\"d-flex flex-grow-1 align-items-baseline\"},[_c('b-img',{staticClass:\"mr-2\",attrs:{\"blank\":\"\",\"blank-color\":\"green\",\"width\":\"12\",\"height\":\"12\"}}),_c('strong',{staticClass:\"mr-auto\"},[_vm._v(\"Message!\")]),_c('small',{staticClass:\"text-muted mr-2\"},[_vm._v(\"now\")])],1)]},proxy:true}])},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]),(_vm.error)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_c('b-form',{staticClass:\"justify-content-center\",on:{\"submit\":function($event){$event.preventDefault();return _vm.registerUser($event)}}},[_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"placeholder\":\"Name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"placeholder\":\"Lastname\"},model:{value:(_vm.lastname),callback:function ($$v) {_vm.lastname=$$v},expression:\"lastname\"}}),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"required\":\"\",\"type\":\"email\",\"placeholder\":\"Email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('b-form-group',{attrs:{\"id\":\"role\"}},[_c('b-form-select',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"options\":_vm.roles,\"required\":\"\"},model:{value:(_vm.role),callback:function ($$v) {_vm.role=$$v},expression:\"role\"}}),_c('b-form-select',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"options\":_vm.positions,\"required\":\"\"},model:{value:(_vm.position),callback:function ($$v) {_vm.position=$$v},expression:\"position\"}}),_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"block\":\"\",\"variant\":\"outline-warning\",\"to\":\"/positions\"}},[_vm._v(\"Add position\")]),_c('b-form-select',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"options\":_vm.workingTimes,\"required\":\"\"},model:{value:(_vm.workingTime),callback:function ($$v) {_vm.workingTime=$$v},expression:\"workingTime\"}}),_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"block\":\"\",\"variant\":\"outline-warning\",\"to\":\"/workingtimes\"}},[_vm._v(\"Add working time\")])],1),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\",\"type\":\"submit\"}},[_vm._v(\"Register\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"registerForm\">\n    <h2 align=\"center\">Register employee</h2>\n\n    <!-- Toast with announcement -->\n    <b-toast id=\"my-toast\" variant=\"success\" solid>\n      <template #toast-title>\n        <div class=\"d-flex flex-grow-1 align-items-baseline\">\n          <b-img\n            blank\n            blank-color=\"green\"\n            class=\"mr-2\"\n            width=\"12\"\n            height=\"12\"\n          ></b-img>\n          <strong class=\"mr-auto\">Message!</strong>\n          <small class=\"text-muted mr-2\">now</small>\n        </div>\n      </template>\n      {{ message }}\n    </b-toast>\n\n    <!-- Error alert -->\n    <b-alert show variant=\"danger\" v-if=\"error\">{{ error }}</b-alert>\n\n    <!-- Register form -->\n    <b-form class=\"justify-content-center\" @submit.prevent=\"registerUser\">\n      <b-input\n        v-model=\"name\"\n        class=\"mb-2 mr-sm-2 mb-sm-2\"\n        placeholder=\"Name\"\n      ></b-input>\n      <b-input\n        v-model=\"lastname\"\n        class=\"mb-2 mr-sm-2 mb-sm-2\"\n        placeholder=\"Lastname\"\n      ></b-input>\n      <b-input\n        v-model=\"email\"\n        required\n        type=\"email\"\n        class=\"mb-2 mr-sm-2 mb-sm-2\"\n        placeholder=\"Email\"\n      ></b-input>\n      <b-form-group id=\"role\">\n        <b-form-select\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          v-model=\"role\"\n          :options=\"roles\"\n          required\n        ></b-form-select>\n        <b-form-select\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          v-model=\"position\"\n          :options=\"positions\"\n          required\n        ></b-form-select>\n        <b-button\n          block\n          variant=\"outline-warning\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          to=\"/positions\"\n          >Add position</b-button\n        >\n        <b-form-select\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          v-model=\"workingTime\"\n          :options=\"workingTimes\"\n          required\n        ></b-form-select>\n        <b-button\n          block\n          variant=\"outline-warning\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          to=\"/workingtimes\"\n          >Add working time</b-button\n        >\n      </b-form-group>\n\n      <b-button block variant=\"dark\" type=\"submit\">Register</b-button>\n    </b-form>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport { mapGetters } from \"vuex\";\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      message: \"\",\n      name: \"\",\n      lastname: \"\",\n      email: \"\",\n      error: \"\",\n      role: null,\n      roles: [\n        { text: \"Choose role..\", value: null },\n        { text: \"Manager\", value: \"manager\" },\n        { text: \"Employee\", value: \"employee\" },\n      ],\n      position: null,\n      positions: [{ text: \"Choose position\", value: null }],\n      workingTime: null,\n      workingTimes: [{ text: \"Choose working time\", value: null }],\n    };\n  },\n  computed: {\n    //Getters from VUEX store for user administration\n    ...mapGetters([\"isAdmin\"]),\n    ...mapGetters([\"isManager\"]),\n    ...mapGetters([\"user\"]),\n  },\n  created() {\n    //Load selects from database (load working times and positions)\n    this.setSelects();\n  },\n  methods: {\n    //Load method for register from VUEX store\n    ...mapActions([\"register\"]),\n\n    //Function for register user\n    registerUser() {\n      this.error = \"\";\n      let user = {\n        name: this.name,\n        lastname: this.lastname,\n        email: this.email,\n        position: this.position,\n        workingTime: this.workingTime,\n        role: this.role,\n      };\n      this.register(user)\n        .then((res) => {\n          if (res.data.success) {\n            this.message = res.data.msg;\n            this.$bvToast.show(\"my-toast\");\n            this.name = \"\";\n            this.lastname = \"\";\n            this.email = \"\";\n            this.role = null;\n            this.position = null;\n            this.workingTime = null;\n          }\n        })\n        .catch((error) => {\n          this.error = error.response.data.msg;\n        });\n    },\n\n    //function for load data to selects, (position and working time)\n    async setSelects() {\n      axios.get(process.env.VUE_APP_MAIN_PATH+\"/api/jobpositions/all\").then((res) => {\n        for (var i = 0; i < res.data.length; i++) {\n          this.positions.push({\n            text: res.data[i].name,\n            value: res.data[i]._id,\n          });\n\n        }\n      });\n\n      axios.get(process.env.VUE_APP_MAIN_PATH+\"/api/workingtimes/all\").then((res) => {\n        for (var i = 0; i < res.data.length; i++) {\n          this.workingTimes.push({\n            text: res.data[i].name,\n            value: res.data[i]._id,\n          });\n        }\n      });\n\n      //set role select for admin - only admin can register other admin\n      if (this.user.user.role == \"admin\") {\n        this.roles.push({ text: \"Administrator\", value: \"admin\" });\n      }\n    },\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=83dc90c8&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"notFound\"}},[_c('h2',[_vm._v(\"404\")]),_c('h3',[_vm._v(\"The page you are looking for was not found.\")]),_c('router-link',{staticClass:\"btn btn-link\",attrs:{\"to\":\"/login\"}},[_vm._v(\"Back to log in\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./NotFound.vue?vue&type=template&id=13c4ea5e&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"loginForm\"}},[_c('h2',{attrs:{\"align\":\"center\"}},[_vm._v(\"Log in\")]),(_vm.error)?_c('b-alert',{attrs:{\"show\":\"\",\"dismissible\":\"\",\"fade\":\"\",\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.error))]):_vm._e(),(this.$route.query.msg)?_c('b-alert',{attrs:{\"show\":\"\",\"dismissible\":\"\",\"fade\":\"\",\"variant\":\"info\"}},[_vm._v(\" \"+_vm._s(this.$route.query.msg))]):_vm._e(),(this.$route.query.msgErr)?_c('b-alert',{attrs:{\"show\":\"\",\"dismissible\":\"\",\"fade\":\"\",\"variant\":\"danger\"}},[_vm._v(\" \"+_vm._s(this.$route.query.msgErr))]):_vm._e(),_c('b-form',{staticClass:\"justify-content-center\",on:{\"submit\":function($event){$event.preventDefault();return _vm.loginUser($event)}}},[_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"type\":\"email\",\"id\":\"email\",\"name\":\"email\",\"required\":\"\",\"placeholder\":\"Email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"type\":\"password\",\"id\":\"password\",\"name\":\"password\",\"placeholder\":\"Password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\",\"type\":\"submit\"}},[_vm._v(\"Log in\")]),_c('b-button',{staticStyle:{\"margin-bottom\":\"3%\"},attrs:{\"block\":\"\",\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.$bvToast.show('example-toast')}}},[_vm._v(\" Forgotten password? \")]),_c('b-toast',{attrs:{\"id\":\"example-toast\",\"title\":\"Forgotten password\",\"static\":\"\",\"no-auto-hide\":\"\"}},[_vm._v(\" If you have forgotten your password, contact the administrator! \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"loginForm\">\n    <h2 align=\"center\">Log in</h2>\n\n    <!-- Alert with errors -->\n    <b-alert show dismissible fade variant=\"danger\" v-if=\"error\">{{\n      error\n    }}</b-alert>\n\n    <!-- Alert with errors -->\n    <b-alert show dismissible fade variant=\"info\" v-if=\"this.$route.query.msg\">\n      {{ this.$route.query.msg }}</b-alert\n    >\n    <b-alert\n      show\n      dismissible\n      fade\n      variant=\"danger\"\n      v-if=\"this.$route.query.msgErr\"\n    >\n      {{ this.$route.query.msgErr }}</b-alert\n    >\n\n    <!-- Log in form -->\n    <b-form class=\"justify-content-center\" @submit.prevent=\"loginUser\">\n      <b-input\n        type=\"email\"\n        id=\"email\"\n        v-model=\"email\"\n        name=\"email\"\n        required\n        class=\"mb-2 mr-sm-2 mb-sm-2\"\n        placeholder=\"Email\"\n      ></b-input>\n      <b-input\n        type=\"password\"\n        class=\"mb-2 mr-sm-2 mb-sm-2\"\n        id=\"password\"\n        name=\"password\"\n        v-model=\"password\"\n        placeholder=\"Password\"\n      ></b-input>\n      <b-button block variant=\"dark\" type=\"submit\">Log in</b-button>\n      <b-button\n        style=\"mb-2; margin-bottom: 3%\"\n        block\n        variant=\"primary\"\n        @click=\"$bvToast.show('example-toast')\"\n      >\n        Forgotten password?\n      </b-button>\n      <b-toast\n        id=\"example-toast\"\n        title=\"Forgotten password\"\n        static\n        no-auto-hide\n      >\n        If you have forgotten your password, contact the administrator!\n      </b-toast>\n    </b-form>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      error: \"\",\n    };\n  },\n  methods: {\n    //Load method for login from VUEX store\n    ...mapActions([\"login\"]),\n\n    //Function for login user\n    loginUser() {\n      var user = {\n        email: this.email,\n        password: this.password,\n      };\n\n      this.login(user)\n        .then(() => {\n          this.$router.push(\"/profile\");\n        })\n        .catch((error) => {\n          this.error = error.response.data.msg;\n        });\n    },\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=71b0d5a3&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"workingTimes\"}},[(_vm.edit !== true && _vm.add !== true && _vm.isAdmin)?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.addNewWorkingTime()}}},[_vm._v(\"Add new working time\")]):_vm._e(),_c('b-toast',{attrs:{\"id\":\"my-toast\",\"variant\":\"success\",\"solid\":\"\"},scopedSlots:_vm._u([{key:\"toast-title\",fn:function(){return [_c('div',{staticClass:\"d-flex flex-grow-1 align-items-baseline\"},[_c('b-img',{staticClass:\"mr-2\",attrs:{\"blank\":\"\",\"blank-color\":\"green\",\"width\":\"12\",\"height\":\"12\"}}),_c('strong',{staticClass:\"mr-auto\"},[_vm._v(\"Message!\")]),_c('small',{staticClass:\"text-muted mr-2\"},[_vm._v(\"now\")])],1)]},proxy:true}])},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]),(_vm.edit !== true && _vm.add !== true)?_c('b-input-group',[_c('b-form-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"id\":\"filter-input\",\"type\":\"search\",\"placeholder\":\"Search by name and hours\"},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}}),_c('b-input-group-append',[_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"disabled\":!_vm.keyword},on:{\"click\":function($event){_vm.keyword = ''}}},[_vm._v(\"Clear\")])],1)],1):_vm._e(),_c('div',{staticClass:\"resp-table\"},[(_vm.edit !== true && _vm.add !== true)?_c('b-table',{ref:\"table\",attrs:{\"items\":_vm.workingTimes,\"fields\":_vm.fields,\"filter\":_vm.keyword,\"busy\":_vm.isBusy,\"head-variant\":\"dark\",\"responsive\":\"\"},scopedSlots:_vm._u([{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center text-dark my-2\"},[_c('b-spinner',{staticClass:\"align-middle\",attrs:{\"variant\":\"dark\"}}),_c('strong',[_vm._v(\"Loading...\")])],1)]},proxy:true},{key:\"cell(show_employees)\",fn:function(row){return [_c('b-button',{staticClass:\"mr-2\",attrs:{\"size\":\"sm\",\"variant\":\"dark\"},on:{\"click\":row.toggleDetails}},[_vm._v(\" \"+_vm._s(row.detailsShowing ? \"Hide\" : \"Show\")+\" employees \")])]}},{key:\"row-details\",fn:function(row){return [_c('b-card',_vm._l((row.item.employees),function(employee){return _c('span',{key:employee.id},[_vm._v(\" \"+_vm._s(employee.name + \" \" + employee.lastname + \" - \" + employee.email)+\" \"),_c('b',[_vm._v(\" | \")])])}),0)]}},{key:\"cell(action)\",fn:function(data){return [_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\"},on:{\"click\":function($event){return _vm.editWorkingTime(data.item)}}},[_vm._v(\"Edit\")]),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.remove(data.item)}}},[_vm._v(\"Delete\")])]}}],null,false,3258457745)}):_vm._e()],1),(_vm.edit == true)?_c('div',{staticClass:\"edit\"},[_c('h2',[_vm._v(\"Edit working time\")]),_c('b-form',{staticClass:\"justify-content-center\",on:{\"submit\":function($event){$event.preventDefault();return _vm.editWorkingTime(null)}}},[_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"placeholder\":\"Working time name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"placeholder\":\"Working hours\"},model:{value:(_vm.hours),callback:function ($$v) {_vm.hours=$$v},expression:\"hours\"}}),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"required\":\"\",\"placeholder\":\"Holiday hours\"},model:{value:(_vm.holidayHours),callback:function ($$v) {_vm.holidayHours=$$v},expression:\"holidayHours\"}}),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\",\"type\":\"submit\"}},[_vm._v(\"Edit\")]),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"outline-dark\"},on:{\"click\":function($event){return _vm.back()}}},[_vm._v(\"Back\")])],1)],1):_vm._e(),(_vm.add == true)?_c('div',{staticClass:\"edit\"},[_c('h2',[_vm._v(\"Add working time\")]),_c('b-form',{staticClass:\"justify-content-center\",on:{\"submit\":function($event){$event.preventDefault();return _vm.addNewWorkingTime()}}},[_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"placeholder\":\"Working time name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"placeholder\":\"Working hours\"},model:{value:(_vm.hours),callback:function ($$v) {_vm.hours=$$v},expression:\"hours\"}}),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"required\":\"\",\"placeholder\":\"Holiday hours\"},model:{value:(_vm.holidayHours),callback:function ($$v) {_vm.holidayHours=$$v},expression:\"holidayHours\"}}),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\",\"type\":\"submit\"}},[_vm._v(\"Add\")]),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"outline-dark\"},on:{\"click\":function($event){return _vm.back()}}},[_vm._v(\"Back\")])],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"workingTimes\">\n    <!--Button for adding new working time-->\n    <b-button\n      variant=\"success\"\n      v-if=\"edit !== true && add !== true && isAdmin\"\n      class=\"mb-2 mr-sm-2 mb-sm-2\"\n      @click=\"addNewWorkingTime()\"\n      >Add new working time</b-button\n    >\n    <!-- Toast with announcement -->\n    <b-toast id=\"my-toast\" variant=\"success\" solid>\n      <template #toast-title>\n        <div class=\"d-flex flex-grow-1 align-items-baseline\">\n          <b-img\n            blank\n            blank-color=\"green\"\n            class=\"mr-2\"\n            width=\"12\"\n            height=\"12\"\n          ></b-img>\n          <strong class=\"mr-auto\">Message!</strong>\n          <small class=\"text-muted mr-2\">now</small>\n        </div>\n      </template>\n      {{ message }}\n    </b-toast>\n\n    <!-- Search ipnut for filtering data from table -->\n    <b-input-group v-if=\"edit !== true && add !== true\">\n      <b-form-input\n        class=\"mb-2 mr-sm-2 mb-sm-2\"\n        id=\"filter-input\"\n        v-model=\"keyword\"\n        type=\"search\"\n        placeholder=\"Search by name and hours\"\n      ></b-form-input>\n      <b-input-group-append>\n        <b-button\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          :disabled=\"!keyword\"\n          @click=\"keyword = ''\"\n          >Clear</b-button\n        >\n      </b-input-group-append>\n    </b-input-group>\n\n    <div class=\"resp-table\">\n      <!-- Table -->\n      <b-table\n        :items=\"workingTimes\"\n        :fields=\"fields\"\n        :filter=\"keyword\"\n        :busy=\"isBusy\"\n        head-variant=\"dark\"\n        responsive\n        v-if=\"edit !== true && add !== true\"\n        ref=\"table\"\n      >\n        <!-- Loading spinner, if app getting data from backend -->\n        <template #table-busy>\n          <div class=\"text-center text-dark my-2\">\n            <b-spinner variant=\"dark\" class=\"align-middle\"></b-spinner>\n            <strong>Loading...</strong>\n          </div>\n        </template>\n\n        <!-- Custom table cell for toast with employees with working time -->\n        <template #cell(show_employees)=\"row\">\n          <b-button\n            size=\"sm\"\n            variant=\"dark\"\n            @click=\"row.toggleDetails\"\n            class=\"mr-2\"\n          >\n            {{ row.detailsShowing ? \"Hide\" : \"Show\" }} employees\n          </b-button>\n        </template>\n\n        <!-- Toast with employee details -->\n        <template #row-details=\"row\">\n          <b-card>\n            <span v-for=\"employee in row.item.employees\" :key=\"employee.id\">\n              {{\n                employee.name + \" \" + employee.lastname + \" - \" + employee.email\n              }}\n              <b> | </b>\n            </span>\n          </b-card>\n        </template>\n\n        <!-- Add custom cell for action buttons -->\n        <template v-slot:cell(action)=\"data\">\n          <b-button block variant=\"dark\" @click=\"editWorkingTime(data.item)\"\n            >Edit</b-button\n          ><b-button block variant=\"danger\" @click=\"remove(data.item)\"\n            >Delete</b-button\n          >\n        </template>\n      </b-table>\n    </div>\n\n    <!-- Edit form for working time -->\n    <div class=\"edit\" v-if=\"edit == true\">\n      <h2>Edit working time</h2>\n      <b-form\n        class=\"justify-content-center\"\n        @submit.prevent=\"editWorkingTime(null)\"\n      >\n        <b-input\n          v-model=\"name\"\n          placeholder=\"Working time name\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n        ></b-input>\n        <b-input\n          v-model=\"hours\"\n          placeholder=\"Working hours\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n        ></b-input>\n        <b-input\n          v-model=\"holidayHours\"\n          required\n          placeholder=\"Holiday hours\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n        ></b-input>\n        <b-button block variant=\"dark\" type=\"submit\">Edit</b-button>\n        <b-button block variant=\"outline-dark\" @click=\"back()\">Back</b-button>\n      </b-form>\n    </div>\n\n    <!-- Adding form for working time -->\n    <div class=\"edit\" v-if=\"add == true\">\n      <h2>Add working time</h2>\n      <b-form\n        class=\"justify-content-center\"\n        @submit.prevent=\"addNewWorkingTime()\"\n      >\n        <b-input\n          v-model=\"name\"\n          placeholder=\"Working time name\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n        ></b-input>\n        <b-input\n          v-model=\"hours\"\n          placeholder=\"Working hours\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n        ></b-input>\n        <b-input\n          v-model=\"holidayHours\"\n          required\n          placeholder=\"Holiday hours\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n        ></b-input>\n        <b-button block variant=\"dark\" type=\"submit\">Add</b-button>\n        <b-button block variant=\"outline-dark\" @click=\"back()\">Back</b-button>\n      </b-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      keyword: null,\n      edit: false,\n      add: false,\n      workingTimes: [],\n      id: \"\",\n      name: \"\",\n      hours: \"\",\n      holidayHours: \"\",\n      message: \"\",\n      isBusy: false,\n      fields: [\n        { key: \"name\", label: \"Name\", sortable: true },\n        { key: \"hours\", label: \"Working hours\", sortable: true },\n        { key: \"holiday_hours\", label: \"Holiday hours\", sortable: true },\n        { key: \"show_employees\", label: \"Employees\", tdClass: \"actionBar\" },\n      ],\n    };\n  },\n\n  created() {\n    //Load working times, if page is rendering\n    this.loadWorkingTimes();\n  },\n\n  methods: {\n    //Funciton for add new working time - only admin (Send request to server).\n    addNewWorkingTime() {\n      if (!this.add) {\n        this.add = true;\n      } else {\n        var newWokingTime = {\n          name: this.name,\n          hours: this.hours,\n          holiday_hours: this.holidayHours,\n        };\n        axios\n          .post(\n            process.env.VUE_APP_MAIN_PATH + \"/api/workingtimes/new/\",\n            newWokingTime\n          )\n          .then((res) => {\n            this.message = res.data.msg;\n            this.name = \"\";\n            this.hours = \"\";\n            this.holidayHours = \"\";\n          });\n        this.$bvToast.show(\"my-toast\");\n        this.workingTimes = [];\n        this.add = false;\n        this.loadWorkingTimes();\n      }\n    },\n\n    //Funciton for editing working time - only admin (Send request to server).\n    editWorkingTime(workingTime) {\n      //This condition set data from table to edit form, if edit == false\n      if (!this.edit) {\n        this.edit = true;\n        this.id = workingTime._id;\n        this.name = workingTime.name;\n        this.hours = workingTime.hours;\n        this.holidayHours = workingTime.holiday_hours;\n      } else {\n        var updatedWorkingTime = {\n          name: this.name,\n          hours: this.hours,\n          holiday_hours: this.holidayHours,\n        };\n\n        axios\n          .put(\n            process.env.VUE_APP_MAIN_PATH +\n              \"/api/workingtimes/update/\" +\n              this.id,\n            updatedWorkingTime\n          )\n          .then((res) => {\n            this.name = \"\";\n            this.hours = \"\";\n            this.holidayHours = \"\";\n            this.message = res.data.msg;\n            this.$bvToast.show(\"my-toast\");\n            this.workingTimes = [];\n            this.loadWorkingTimes();\n            this.edit = false;\n          });\n      }\n    },\n\n    //Function for removing working time - only admin (Send request to server)\n    async remove(workingTime) {\n      axios\n        .delete(\n          process.env.VUE_APP_MAIN_PATH +\n            \"/api/workingtimes/delete/\" +\n            workingTime._id\n        )\n        .then((res) => {\n          this.message = res.data.msg;\n          this.$bvToast.show(\"my-toast\");\n          this.workingTimes = [];\n          this.loadWorkingTimes();\n        });\n    },\n\n    //Function for load data from server to table\n    async loadWorkingTimes() {\n      this.isBusy = true;\n      this.workingTimes = await axios.get(\n        process.env.VUE_APP_MAIN_PATH + \"/api/workingtimes/all\"\n      );\n      this.workingTimes = this.workingTimes.data;\n      this.isBusy = false;\n    },\n\n    //This is function for back button in edit and add form\n    back() {\n      this.edit = false;\n      this.add = false;\n      this.name = \"\";\n      this.hours = \"\";\n      this.holidayHours = \"\";\n    },\n  },\n\n  async mounted() {\n    //add action bar for admins\n    if (this.isAdmin) {\n      this.fields.push({\n        key: \"action\",\n        label: \"Action\",\n        tdClass: \"actionBar\",\n      });\n    }\n  },\n\n  computed: {\n    ...mapGetters([\"isAdmin\"]),\n    ...mapGetters([\"isManager\"]),\n\n    //Function for filtering data from table on name, hours and holiday hours\n    filterList() {\n      return this.keyword\n        ? this.workingTimes.filter(\n            (item) =>\n              item.name.includes(this.keyword) ||\n              item.hours.includes(this.keyword) ||\n              item.holidayHours.includes(this.keyword)\n          )\n        : this.workingTimes;\n    },\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkingTimes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkingTimes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkingTimes.vue?vue&type=template&id=1aa3fcda&\"\nimport script from \"./WorkingTimes.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkingTimes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"profile\"}},[_c('table',[_c('tr',[_c('td',{staticStyle:{\"text-align\":\"center\"},attrs:{\"colspan\":\"2\"}},[_c('b-avatar',{attrs:{\"size\":\"10em\"}})],1)]),_c('tr',[_vm._m(0),_c('td',[_vm._v(_vm._s(_vm.user.user.name + \" \" + _vm.user.user.lastname))])]),_c('tr',[_vm._m(1),_c('td',[_vm._v(_vm._s(_vm.user.user.email))])]),(_vm.user.user.workingTime)?_c('tr',[_vm._m(2),_c('td',[_vm._v(\" \"+_vm._s(_vm.user.user.workingTime.name + \" - \" + _vm.user.user.workingTime.hours)+\" \")])]):_vm._e(),(_vm.user.user.workingTime)?_c('tr',[_vm._m(3),_c('td',[_vm._v(_vm._s(_vm.user.user.workingTime.holiday_hours))])]):_vm._e(),(_vm.user.user.position)?_c('tr',[_vm._m(4),_c('td',[_vm._v(\" \"+_vm._s(_vm.user.user.position.name)+\" - \"+_vm._s(_vm.user.user.position.default_salary)+\" \")])]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('b',[_vm._v(\"Name:\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('b',[_vm._v(\"Email:\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('b',[_vm._v(\"Working time:\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('b',[_vm._v(\"Holiday hours:\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('b',[_vm._v(\"Position:\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"profile\">\n\n    <!-- Simple table with user profile -->\n    <table>\n      <tr>\n        <td colspan=\"2\" style=\"text-align: center\">\n          <b-avatar size=\"10em\"></b-avatar>\n        </td>\n      </tr>\n      <tr>\n        <td><b>Name:</b></td>\n        <td>{{ user.user.name + \" \" + user.user.lastname }}</td>\n      </tr>\n      <tr>\n        <td><b>Email:</b></td>\n        <td>{{ user.user.email }}</td>\n      </tr>\n      <tr v-if=\"user.user.workingTime\">\n        <td><b>Working time:</b></td>\n        <td>\n          {{ user.user.workingTime.name + \" - \" + user.user.workingTime.hours }}\n        </td>\n      </tr>\n      <tr v-if=\"user.user.workingTime\">\n        <td><b>Holiday hours:</b></td>\n        <td>{{ user.user.workingTime.holiday_hours }}</td>\n      </tr>\n      <tr v-if=\"user.user.position\">\n        <td><b>Position:</b></td>\n        <td>\n          {{ user.user.position.name }} - {{\n            user.user.position.default_salary }}\n        </td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nexport default {\n  data() {\n    return {\n      users: \"\",\n      edit: false,\n      name: \"\",\n      lastname: \"\",\n      position_specs: \"\",\n      email: \"\",\n    };\n  },\n  computed: {\n    //load user details from VUEX store\n    ...mapGetters([\"user\"]),\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=bcdf5992&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"employees\"}},[_c('b-toast',{attrs:{\"id\":\"my-toast\",\"variant\":\"success\",\"solid\":\"\"},scopedSlots:_vm._u([{key:\"toast-title\",fn:function(){return [_c('div',{staticClass:\"d-flex flex-grow-1 align-items-baseline\"},[_c('b-img',{staticClass:\"mr-2\",attrs:{\"blank\":\"\",\"blank-color\":\"green\",\"width\":\"12\",\"height\":\"12\"}}),_c('strong',{staticClass:\"mr-auto\"},[_vm._v(\"Message!\")]),_c('small',{staticClass:\"text-muted mr-2\"},[_vm._v(\"now\")])],1)]},proxy:true}])},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]),(!_vm.edit)?_c('b-input-group',[_c('b-form-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"id\":\"filter-input\",\"type\":\"search\",\"placeholder\":\"Search by name, lastname and email\"},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}}),_c('b-input-group-append',[_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"disabled\":!_vm.keyword},on:{\"click\":function($event){_vm.keyword = ''}}},[_vm._v(\"Clear\")])],1)],1):_vm._e(),_c('div',{staticClass:\"resp-table\"},[(_vm.edit == false)?_c('b-table',{ref:\"table\",attrs:{\"items\":_vm.items,\"fields\":_vm.fields,\"filter\":_vm.keyword,\"busy\":_vm.isBusy,\"head-variant\":\"dark\",\"responsive\":\"\"},scopedSlots:_vm._u([{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center text-dark my-2\"},[_c('b-spinner',{staticClass:\"align-middle\",attrs:{\"variant\":\"dark\"}}),_c('strong',[_vm._v(\"Loading...\")])],1)]},proxy:true},{key:\"cell(action)\",fn:function(data){return [_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\"},on:{\"click\":function($event){return _vm.editUser(data.item)}}},[_vm._v(\"Edit\")]),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.resetPassword(data.item)}}},[_vm._v(\"Reset password\")]),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.remove(data.item)}}},[_vm._v(\"Delete\")])]}}],null,false,4240759629)}):_vm._e()],1),(_vm.edit == true)?_c('div',{staticClass:\"edit\"},[_c('h2',[_vm._v(\"Edit user\")]),_c('b-form',{staticClass:\"justify-content-center\",on:{\"submit\":function($event){$event.preventDefault();return _vm.editUser(null)}}},[_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"placeholder\":\"Name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"placeholder\":\"Lastname\"},model:{value:(_vm.lastname),callback:function ($$v) {_vm.lastname=$$v},expression:\"lastname\"}}),_c('b-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"required\":\"\",\"type\":\"email\",\"placeholder\":\"Email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('b-form-group',[_c('b-form-select',{attrs:{\"options\":_vm.roles,\"required\":\"\"},model:{value:(_vm.role),callback:function ($$v) {_vm.role=$$v},expression:\"role\"}})],1),_c('b-form-group',[_c('b-form-select',{attrs:{\"required\":\"\",\"options\":_vm.positions},model:{value:(_vm.position),callback:function ($$v) {_vm.position=$$v},expression:\"position\"}})],1),_c('b-form-group',[_c('b-form-select',{attrs:{\"required\":\"\",\"options\":_vm.workingTimes},model:{value:(_vm.workingTime),callback:function ($$v) {_vm.workingTime=$$v},expression:\"workingTime\"}})],1),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\",\"type\":\"submit\"}},[_vm._v(\"Edit\")]),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"outline-dark\"},on:{\"click\":function($event){return _vm.back()}}},[_vm._v(\"Back\")])],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"employees\">\n    <!-- Toast with announcement -->\n    <b-toast id=\"my-toast\" variant=\"success\" solid>\n      <template #toast-title>\n        <div class=\"d-flex flex-grow-1 align-items-baseline\">\n          <b-img\n            blank\n            blank-color=\"green\"\n            class=\"mr-2\"\n            width=\"12\"\n            height=\"12\"\n          ></b-img>\n          <strong class=\"mr-auto\">Message!</strong>\n          <small class=\"text-muted mr-2\">now</small>\n        </div>\n      </template>\n      {{ message }}\n    </b-toast>\n\n    <!-- Search ipnut for filtering data from table -->\n    <b-input-group v-if=\"!edit\">\n      <b-form-input\n        class=\"mb-2 mr-sm-2 mb-sm-2\"\n        id=\"filter-input\"\n        v-model=\"keyword\"\n        type=\"search\"\n        placeholder=\"Search by name, lastname and email\"\n      ></b-form-input>\n      <b-input-group-append>\n        <b-button\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          :disabled=\"!keyword\"\n          @click=\"keyword = ''\"\n          >Clear</b-button\n        >\n      </b-input-group-append>\n    </b-input-group>\n\n    <div class=\"resp-table\">\n      <!-- Table -->\n      <b-table\n        :items=\"items\"\n        :fields=\"fields\"\n        :filter=\"keyword\"\n        :busy=\"isBusy\"\n        head-variant=\"dark\"\n        v-if=\"edit == false\"\n        ref=\"table\"\n        responsive\n      >\n        <!-- Loading spinner, if app getting data from backend -->\n        <template #table-busy>\n          <div class=\"text-center text-dark my-2\">\n            <b-spinner variant=\"dark\" class=\"align-middle\"></b-spinner>\n            <strong>Loading...</strong>\n          </div>\n        </template>\n        <!-- Add action buttons to table -->\n        <template v-slot:cell(action)=\"data\">\n          <b-button block variant=\"dark\" @click=\"editUser(data.item)\"\n            >Edit</b-button\n          ><b-button block variant=\"warning\" @click=\"resetPassword(data.item)\"\n            >Reset password</b-button\n          ><b-button block variant=\"danger\" @click=\"remove(data.item)\"\n            >Delete</b-button\n          >\n        </template>\n      </b-table>\n    </div>\n\n    <!-- Edit form for user -->\n    <div class=\"edit\" v-if=\"edit == true\">\n      <h2>Edit user</h2>\n      <b-form class=\"justify-content-center\" @submit.prevent=\"editUser(null)\">\n        <b-input\n          v-model=\"name\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          placeholder=\"Name\"\n        ></b-input>\n        <b-input\n          v-model=\"lastname\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          placeholder=\"Lastname\"\n        ></b-input>\n        <b-input\n          v-model=\"email\"\n          required\n          type=\"email\"\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          placeholder=\"Email\"\n        ></b-input>\n        <b-form-group>\n          <b-form-select\n            v-model=\"role\"\n            :options=\"roles\"\n            required\n          ></b-form-select>\n        </b-form-group>\n        <b-form-group>\n          <b-form-select\n            required\n            v-model=\"position\"\n            :options=\"positions\"\n          ></b-form-select>\n        </b-form-group>\n        <b-form-group>\n          <b-form-select\n            required\n            v-model=\"workingTime\"\n            :options=\"workingTimes\"\n          ></b-form-select>\n        </b-form-group>\n        <b-button block variant=\"dark\" type=\"submit\">Edit</b-button>\n        <b-button block variant=\"outline-dark\" @click=\"back()\">Back</b-button>\n      </b-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      users: [],\n      keyword: null,\n      edit: false,\n      isBusy: false,\n      id: \"\",\n      name: \"\",\n      lastname: \"\",\n      email: \"\",\n      message: \"\",\n      position: null,\n      positions: [{ text: \"Choose position\", value: null }],\n      workingTime: null,\n      workingTimes: [{ text: \"Choose working time\", value: null }],\n      role: null,\n      roles: [\n        { text: \"Choose role..\", value: null },\n        { text: \"Administrator\", value: \"admin\" },\n        { text: \"Manager\", value: \"manager\" },\n        { text: \"Employee\", value: \"employee\" },\n      ],\n      fields: [\n        { key: \"firstname\", label: \"First Name\", sortable: true },\n        { key: \"lastname\", label: \"Last Name\", sortable: true },\n        { key: \"email\", label: \"Email\", sortable: true },\n        { key: \"role\", label: \"Role\", sortable: true },\n        { key: \"position\", label: \"Position\", sortable: true },\n        { key: \"workingTime\", label: \"Working time\", sortable: true },\n      ],\n      items: [],\n    };\n  },\n\n  created() {\n    //Loading working times and positions, if page is rendered\n    this.setProperties();\n    this.loadUsers();\n  },\n\n  methods: {\n\n    //Funciton for editing user. (Set variables and send to VUEX store)\n    editUser(user) {\n      if (!this.edit) {\n        this.edit = true;\n        this.id = user._id;\n        this.name = user.firstname;\n        this.lastname = user.lastname;\n        this.role = this.roles.find(({ text }) => text === user.role).value;\n        this.position = user.positionId === undefined ? null : user.positionId;\n        this.workingTime =\n          user.workingTimeId === undefined ? null : user.workingTimeId;\n        this.email = user.email;\n      } else {\n        let user = {\n          _id: this.id,\n          name: this.name,\n          lastname: this.lastname,\n          email: this.email,\n          role: this.role,\n          position: this.position,\n          workingTime: this.workingTime,\n        };\n        \n        axios\n          .put(\n            process.env.VUE_APP_MAIN_PATH +\n              \"/api/users/update/\" +\n              this.id,\n            user\n          ).then(res => {\n          this.items = [];\n          this.loadUsers();\n          this.message = res.data.msg;\n          this.$bvToast.show(\"my-toast\");\n          this.edit = false;\n        });\n      }\n    },\n\n    //Function for removing user - only admin (Send request to server)\n    async remove(user) {\n      axios\n        .delete(process.env.VUE_APP_MAIN_PATH + \"/api/users/delete/\" + user._id)\n        .then((res) => {\n          this.message = res.data.msg;\n          this.$bvToast.show(\"my-toast\");\n          this.items = [];\n          this.loadUsers();\n        });\n    },\n\n    //Function for reset user password - only admin (Send request to server)\n    async resetPassword(user) {\n      axios\n        .post(\n          process.env.VUE_APP_MAIN_PATH + \"/api/users/resetpassword/\" + user._id\n        )\n        .then((res) => {\n          this.message = res.data.msg;\n          this.$bvToast.show(\"my-toast\");\n        });\n    },\n\n    //Function for load data from server to table, solve undefined variables from database\n    async loadUsers() {\n      this.isBusy = true;\n      await axios.get(\n        process.env.VUE_APP_MAIN_PATH + \"/api/users/\"\n      ).then(users => {\n      users = users.data;\n      for (var i = 0; i < users.length; i++) {\n        if (users[i].position && users[i].workingTime) {\n          let item = {\n            _id: users[i]._id,\n            positionId: users[i].position._id,\n            workingTimeId: users[i].workingTime._id,\n            firstname: users[i].name,\n            lastname: users[i].lastname,\n            role: this.roles.find(({ value }) => value === users[i].role)\n              .text,\n            email: users[i].email,\n            position: users[i].position.name,\n            workingTime: users[i].workingTime.name,\n          };\n          this.items.push(item);\n        } else {\n          let item = {\n            _id: users[i]._id,\n            firstname: users[i].name,\n            lastname: users[i].lastname,\n            role: this.roles.find(({ value }) => value === users[i].role)\n              .text,\n            email: users[i].email,\n            position: \"Not defined\",\n            workingTime: \"Not defined\",\n          };\n          this.items.push(item);\n        }\n      }\n      }).catch(() => {});\n\n      this.isBusy = false;\n    },\n\n    //Load working times and job positions to bootstrap selects for editing user.\n    async setProperties() {\n      axios\n        .get(process.env.VUE_APP_MAIN_PATH + \"/api/jobpositions/all\")\n        .then((res) => {\n          for (var i = 0; i < res.data.length; i++) {\n            this.positions.push({\n              text: res.data[i].name,\n              value: res.data[i]._id,\n            });\n          }\n        }).catch(() => {\n        });\n\n      axios\n        .get(process.env.VUE_APP_MAIN_PATH + \"/api/workingtimes/all\")\n        .then((res) => {\n          for (var i = 0; i < res.data.length; i++) {\n            this.workingTimes.push({\n              text: res.data[i].name,\n              value: res.data[i]._id,\n            });\n          }\n        }).catch(() => {\n        });\n    },\n\n    back() {\n      this.edit = false;\n      this.add = false;\n      this.name = \"\";\n      this.lastname = \"\";\n      this.email = \"\";\n      this.workingTime = \"\";\n      this.position = \"\";\n      this.role = \"\";\n    },\n  },\n\n  async mounted() {\n    //solve action bar for admin and manager\n    if (this.isAdmin) {\n      this.fields.push({\n        key: \"action\",\n        label: \"Action\",\n        tdClass: \"actionBar\",\n      });\n    }\n  },\n\n  computed: {\n    ...mapGetters([\"isAdmin\"]),\n    ...mapGetters([\"isManager\"]),\n\n    //Function for filtering data from table on name, lastname and email\n    filterList() {\n      return this.keyword\n        ? this.items.filter(\n            (item) =>\n              item.firstname.includes(this.keyword) ||\n              item.lastname.includes(this.keyword) ||\n              item.email.includes(this.keyword)\n          )\n        : this.items;\n    },\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Employees.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Employees.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Employees.vue?vue&type=template&id=fb5bea1c&\"\nimport script from \"./Employees.vue?vue&type=script&lang=js&\"\nexport * from \"./Employees.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"mngshifts\"}},[(_vm.edit !== true && !_vm.editWeek)?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2 mngbtn\",attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.showToday()}}},[_vm._v(\"Show today shifts\")]):_vm._e(),(_vm.edit !== true && _vm.editWeek)?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.allShifts()}}},[_vm._v(\"Show all shifts\")]):_vm._e(),_c('br'),(_vm.edit !== true && _vm.editWeek)?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2 mngbtn\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.previousDay()}}},[_vm._v(\"Previous day\")]):_vm._e(),(_vm.edit !== true && _vm.editWeek)?_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2 mngbtn\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.nextDay()}}},[_vm._v(\"Next day\")]):_vm._e(),_c('b-toast',{attrs:{\"id\":\"my-toast\",\"variant\":\"success\",\"solid\":\"\"},scopedSlots:_vm._u([{key:\"toast-title\",fn:function(){return [_c('div',{staticClass:\"d-flex flex-grow-1 align-items-baseline\"},[_c('b-img',{staticClass:\"mr-2\",attrs:{\"blank\":\"\",\"blank-color\":\"green\",\"width\":\"12\",\"height\":\"12\"}}),_c('strong',{staticClass:\"mr-auto\"},[_vm._v(\"Message!\")]),_c('small',{staticClass:\"text-muted mr-2\"},[_vm._v(\"now\")])],1)]},proxy:true}])},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]),(_vm.edit !== true && _vm.add !== true)?_c('b-input-group',[_c('b-form-datepicker',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"id\":\"filter-input\",\"locale\":\"en\",\"placeholder\":\"Choose a date for filter shifts\"},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}}),_c('b-input-group-append',[_c('b-button',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"disabled\":!_vm.keyword},on:{\"click\":function($event){_vm.keyword = '';\n          _vm.editWeek = '';}}},[_vm._v(\"Clear\")])],1)],1):_vm._e(),_c('div',{staticClass:\"resp-table\"},[(_vm.edit !== true && _vm.add !== true)?_c('b-table',{ref:\"table\",attrs:{\"items\":_vm.items,\"fields\":_vm.fields,\"filter\":_vm.keyword,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"busy\":_vm.isBusy,\"head-variant\":\"dark\",\"responsive\":\"\"},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event}},scopedSlots:_vm._u([{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center text-dark my-2\"},[_c('b-spinner',{staticClass:\"align-middle\",attrs:{\"variant\":\"dark\"}}),_c('strong',[_vm._v(\"Loading...\")])],1)]},proxy:true},{key:\"cell(action)\",fn:function(data){return [(new Date(data.item.date).getTime() > _vm.editTime.getTime())?_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\"},on:{\"click\":function($event){return _vm.editRequest(data.item)}}},[_vm._v(\"Edit\")]):_vm._e(),(new Date(data.item.date).getTime() > _vm.editTime.getTime())?_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.remove(data.item)}}},[_vm._v(\"Delete\")]):_vm._e(),(new Date(data.item.date).getTime() < _vm.editTime.getTime())?_c('p',[_vm._v(\"Completed!\")]):_vm._e()]}}],null,false,2726152604)}):_vm._e()],1),(_vm.edit == true)?_c('div',{staticClass:\"edit\"},[_c('h2',[_vm._v(\"Edit shift request\"),_c('br'),_vm._v(_vm._s(_vm.date))]),(_vm.error)?_c('b-alert',{attrs:{\"show\":\"\",\"dismissible\":\"\",\"fade\":\"\",\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_c('b-form',{staticClass:\"justify-content-center\",on:{\"submit\":function($event){$event.preventDefault();return _vm.editRequest()}}},[_c('b-form-timepicker',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"locale\":\"cs\",\"placeholder\":\"Choose time from:\"},model:{value:(_vm.timeFrom),callback:function ($$v) {_vm.timeFrom=$$v},expression:\"timeFrom\"}}),_c('b-form-timepicker',{staticClass:\"mb-2 mr-sm-2 mb-sm-2\",attrs:{\"locale\":\"cs\",\"placeholder\":\"Choose time to:\",\"value\":\"23:50\"},model:{value:(_vm.timeTo),callback:function ($$v) {_vm.timeTo=$$v},expression:\"timeTo\"}}),(_vm.timeFrom > _vm.timeTo)?_c('b-alert',{attrs:{\"show\":\"\",\"dismissible\":\"\",\"fade\":\"\",\"variant\":\"danger\"}},[_vm._v(\"Your shift must start earlier than ends. (Start < End)\")]):_vm._e(),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"success\",\"type\":\"submit\"}},[_vm._v(\"Confirm\")]),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"outline-dark\"},on:{\"click\":function($event){return _vm.back()}}},[_vm._v(\"Back\")])],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"mngshifts\">\n    <!--Button for edit shift requests-->\n    <b-button\n      variant=\"warning\"\n      v-if=\"edit !== true && !editWeek\"\n      class=\"mb-2 mr-sm-2 mb-sm-2 mngbtn\"\n      @click=\"showToday()\"\n      >Show today shifts</b-button\n    >\n\n    <!--Back to all requests-->\n    <b-button\n      variant=\"warning\"\n      v-if=\"edit !== true && editWeek\"\n      class=\"mb-2 mr-sm-2 mb-sm-2\"\n      @click=\"allShifts()\"\n      >Show all shifts</b-button\n    >\n    <br>\n    <!--Previous day button-->\n    <b-button\n      variant=\"primary\"\n      class=\"mb-2 mr-sm-2 mb-sm-2 mngbtn\"\n      v-if=\"edit !== true && editWeek\"\n      @click=\"previousDay()\"\n      >Previous day</b-button\n    >\n    <!--Next day button-->\n    <b-button\n      variant=\"primary\"\n      v-if=\"edit !== true && editWeek\"\n      class=\"mb-2 mr-sm-2 mb-sm-2 mngbtn\"\n      @click=\"nextDay()\"\n      >Next day</b-button\n    >\n\n    <!-- Toast with announcement -->\n    <b-toast id=\"my-toast\" variant=\"success\" solid>\n      <template #toast-title>\n        <div class=\"d-flex flex-grow-1 align-items-baseline\">\n          <b-img\n            blank\n            blank-color=\"green\"\n            class=\"mr-2\"\n            width=\"12\"\n            height=\"12\"\n          ></b-img>\n          <strong class=\"mr-auto\">Message!</strong>\n          <small class=\"text-muted mr-2\">now</small>\n        </div>\n      </template>\n      {{ message }}\n    </b-toast>\n\n    <!-- Search ipnut for filtering data from table - date picker-->\n    <b-input-group v-if=\"edit !== true && add !== true\">\n      <b-form-datepicker\n        class=\"mb-2 mr-sm-2 mb-sm-2\"\n        id=\"filter-input\"\n        v-model=\"keyword\"\n        locale=\"en\"\n        placeholder=\"Choose a date for filter shifts\"\n      ></b-form-datepicker>\n      <b-input-group-append>\n        <b-button\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          :disabled=\"!keyword\"\n          @click=\"\n            keyword = '';\n            editWeek = '';\n          \"\n          >Clear</b-button\n        >\n      </b-input-group-append>\n    </b-input-group>\n    <div class=\"resp-table\">\n      <!-- Table -->\n      <b-table\n        :items=\"items\"\n        :fields=\"fields\"\n        :filter=\"keyword\"\n        :sort-by.sync=\"sortBy\"\n        :sort-desc.sync=\"sortDesc\"\n        :busy=\"isBusy\"\n        head-variant=\"dark\"\n        responsive\n        v-if=\"edit !== true && add !== true\"\n        ref=\"table\"\n      >\n        <!-- Loading spinner, if app getting data from backend -->\n        <template #table-busy>\n          <div class=\"text-center text-dark my-2\">\n            <b-spinner variant=\"dark\" class=\"align-middle\"></b-spinner>\n            <strong>Loading...</strong>\n          </div>\n        </template>\n\n        <!-- Add custom cell for action buttons -->\n        <template v-slot:cell(action)=\"data\">\n          <b-button\n            v-if=\"new Date(data.item.date).getTime() > editTime.getTime()\"\n            block\n            variant=\"dark\"\n            @click=\"editRequest(data.item)\"\n            >Edit</b-button\n          ><b-button\n            v-if=\"new Date(data.item.date).getTime() > editTime.getTime()\"\n            block\n            variant=\"danger\"\n            @click=\"remove(data.item)\"\n            >Delete</b-button\n          >\n          <p v-if=\"new Date(data.item.date).getTime() < editTime.getTime()\">Completed!</p>\n        </template>\n      </b-table>\n    </div>\n\n    <!-- Edit form for requests -->\n    <div class=\"edit\" v-if=\"edit == true\">\n      <h2>Edit shift request<br />{{ date }}</h2>\n\n      <!-- Error alert -->\n      <b-alert show dismissible fade variant=\"danger\" v-if=\"error\">{{\n        error\n      }}</b-alert>\n      <b-form class=\"justify-content-center\" @submit.prevent=\"editRequest()\">\n        <b-form-timepicker\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          v-model=\"timeFrom\"\n          locale=\"cs\"\n          placeholder=\"Choose time from:\"\n        ></b-form-timepicker>\n        <b-form-timepicker\n          class=\"mb-2 mr-sm-2 mb-sm-2\"\n          v-model=\"timeTo\"\n          locale=\"cs\"\n          placeholder=\"Choose time to:\"\n          value=\"23:50\"\n        ></b-form-timepicker>\n\n        <!-- Real time error alert - checking right time -->\n        <b-alert show dismissible fade variant=\"danger\" v-if=\"timeFrom > timeTo\"\n          >Your shift must start earlier than ends. (Start &lt; End)</b-alert\n        >\n        <b-button block variant=\"success\" type=\"submit\">Confirm</b-button>\n        <b-button block variant=\"outline-dark\" @click=\"back()\">Back</b-button>\n      </b-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    var editTime = new Date();\n    editTime.setDate(editTime.getDate()-1);\n    return {\n      isBusy: false,\n      editWeek: false,\n      requests: [],\n      keyword: null,\n      edit: false,\n      add: false,\n      sortBy: \"date\",\n      sortDesc: true,\n      id: \"\",\n      date: \"\",\n      editTime: editTime,\n      timeFrom: \"\",\n      timeTo: \"\",\n      message: \"\",\n      error: \"\",\n      fields: [\n        { key: \"fullname\", label: \"Full Name\", sortable: true },\n        { key: \"position\", label: \"Employee position\", sortable: true },\n        { key: \"date\", label: \"Date (YYYY-MM-DD)\", sortable: true },\n        { key: \"time_from\", label: \"Start shift (HH:mm)\", sortable: true },\n        { key: \"time_to\", label: \"End shift (HH:mm)\", sortable: true },\n        { key: \"action\", label: \"Action\", sortable: true, tdClass: 'actionBar' },\n      ],\n      items: [],\n    };\n  },\n\n  created() {\n    //Load employee requests, if page is rendering\n    this.loadConfirmed();\n  },\n\n  methods: {\n    editRequest(request) {\n      //This condition set data from table to edit form, if edit == false\n      if (!this.edit) {\n        this.edit = true;\n        this.date = request.date;\n        this.id = request._id;\n        this.timeFrom = request.time_from;\n        this.timeTo = request.time_to;\n      } else {\n        if (\n          this.timeTo.substring(0, 2) * 60 +\n            this.timeTo.substring(3, 5) * 1 -\n            (this.timeFrom.substring(0, 2) * 60 +\n              this.timeFrom.substring(3, 5) * 1) <\n          60\n        ) {\n          this.error = \"The shift must last at least 1 hour\";\n        } else {\n          if (\n            this.timeFrom.substring(0, 2) * 1 >\n            this.timeTo.substring(0, 2) * 1\n          ) {\n            this.error =\n              \"You can do shifts only in one day, if you want do night shift, split shift into individual days.\";\n          } else {\n            var updatedRequest = {\n              time_from: this.timeFrom.substring(0, 5),\n              time_to: this.timeTo.substring(0, 5),\n              request: false,\n            };\n            axios\n              .put(\n                process.env.VUE_APP_MAIN_PATH+\"/api/shifts/update/\" + this.id,\n                updatedRequest\n              )\n              .then((res) => {\n                this.message = res.data.msg;\n                this.loadConfirmed();\n                this.edit = false;\n                this.$bvToast.show(\"my-toast\");\n              });\n            this.error = \"\";\n            this.timeFrom = \"\";\n            this.timeTo = \"\";\n            this.date = \"\";\n            this.items = [];\n          }\n        }\n      }\n    },\n\n    //Function for removing shift requests\n    async remove(shift) {\n      axios\n        .delete(process.env.VUE_APP_MAIN_PATH+\"/api/shifts/delete/\" + shift._id)\n        .then((res) => {\n          this.message = res.data.msg;\n          this.$bvToast.show(\"my-toast\");\n        });\n      this.items = [];\n      this.loadConfirmed();\n    },\n\n    //Function for load data from server to table\n    async loadConfirmed() {\n      this.isBusy = true;\n      this.requests = await axios.get(\n        process.env.VUE_APP_MAIN_PATH+\"/api/shifts/confirmed\"\n      );\n      for (var i = 0; i < this.requests.data.length; i++) {\n        let item = {\n          _id: this.requests.data[i]._id,\n          fullname:\n            this.requests.data[i].owner.name +\n            \" \" +\n            this.requests.data[i].owner.lastname +\n            \" - \" +\n            this.requests.data[i].owner.email,\n          position: this.requests.data[i].owner.position.name,\n          date: this.requests.data[i].date,\n          time_from: this.requests.data[i].time_from,\n          time_to: this.requests.data[i].time_to,\n        };\n        this.items.push(item);\n      }\n      this.requests = this.requests.data;\n      this.isBusy = false;\n    },\n\n    //set filter data to date picker and show week\n    showToday() {\n      this.editWeek = true;\n      var filterDate = new Date();\n      \n      //set minDate in calendar to monday two weeks in advance\n      this.keyword =\n        filterDate.getFullYear() +\n        \"-\" +\n        (\"0\" + (filterDate.getMonth() + 1)).slice(-2) +\n        \"-\" +\n        (\"0\" + filterDate.getDate()).slice(-2);\n    },\n    //Function for get next day\n    nextDay() {\n      var filterDate = new Date(this.keyword);\n      filterDate.setDate(filterDate.getDate() + 1);\n      this.keyword =\n        filterDate.getFullYear() +\n        \"-\" +\n        (\"0\" + (filterDate.getMonth() + 1)).slice(-2) +\n        \"-\" +\n        (\"0\" + filterDate.getDate()).slice(-2);\n    },\n\n    //Function for get previous day\n    previousDay() {\n      var filterDate = new Date(this.keyword);\n      filterDate.setDate(filterDate.getDate() - 1);\n      this.keyword =\n        filterDate.getFullYear() +\n        \"-\" +\n        (\"0\" + (filterDate.getMonth() + 1)).slice(-2) +\n        \"-\" +\n        (\"0\" + filterDate.getDate()).slice(-2);\n    },\n\n    //for \"Show all shifts\" button, show all requests\n    allShifts() {\n      this.keyword = \"\";\n      this.editWeek = false;\n    },\n\n    //This is function for back button in edit and add form\n    back() {\n      this.edit = false;\n      this.add = false;\n      this.timeFrom = \"\";\n      this.timeTo = \"\";\n      this.date = \"\";\n      this.error = \"\";\n    },\n  },\n\n  computed: {\n    ...mapGetters([\"isAdmin\"]),\n    ...mapGetters([\"isManager\"]),\n\n    //Function for filtering data from table on name, hours and holiday hours\n    filterList() {\n      return this.keyword\n        ? this.requests.filter((item) => item.date.includes(this.keyword))\n        : this.requests;\n    },\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShiftsMng.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShiftsMng.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShiftsMng.vue?vue&type=template&id=404a4c81&\"\nimport script from \"./ShiftsMng.vue?vue&type=script&lang=js&\"\nexport * from \"./ShiftsMng.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}